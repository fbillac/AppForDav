(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function qm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sd={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=Symbol.for("react.element"),Ym=Symbol.for("react.portal"),Zm=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),ng=Symbol.for("react.provider"),rg=Symbol.for("react.context"),sg=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),ag=Symbol.for("react.memo"),og=Symbol.for("react.lazy"),bc=Symbol.iterator;function lg(e){return e===null||typeof e!="object"?null:(e=bc&&e[bc]||e["@@iterator"],typeof e=="function"?e:null)}var kd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ed=Object.assign,Cd={};function Ir(e,t,n){this.props=e,this.context=t,this.refs=Cd,this.updater=n||kd}Ir.prototype.isReactComponent={};Ir.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ir.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xd(){}xd.prototype=Ir.prototype;function Ul(e,t,n){this.props=e,this.context=t,this.refs=Cd,this.updater=n||kd}var Wl=Ul.prototype=new xd;Wl.constructor=Ul;Ed(Wl,Ir.prototype);Wl.isPureReactComponent=!0;var Pc=Array.isArray,bd=Object.prototype.hasOwnProperty,Vl={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)bd.call(t,r)&&!Pd.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Fs,type:e,key:i,ref:a,props:s,_owner:Vl.current}}function ug(e,t){return{$$typeof:Fs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fs}function cg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rc=/\/+/g;function Ja(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cg(""+e.key):t.toString(36)}function Ei(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Fs:case Ym:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Ja(a,0):r,Pc(s)?(n="",e!=null&&(n=e.replace(Rc,"$&/")+"/"),Ei(s,t,n,"",function(u){return u})):s!=null&&(Hl(s)&&(s=ug(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Rc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Pc(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+Ja(i,o);a+=Ei(i,t,n,l,s)}else if(l=lg(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+Ja(i,o++),a+=Ei(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ks(e,t,n){if(e==null)return e;var r=[],s=0;return Ei(e,r,"","",function(i){return t.call(n,i,s++)}),r}function fg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Ci={transition:null},dg={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Ci,ReactCurrentOwner:Vl};function Id(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Ks,forEach:function(e,t,n){Ks(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ks(e,function(){t++}),t},toArray:function(e){return Ks(e,function(t){return t})||[]},only:function(e){if(!Hl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=Ir;U.Fragment=Zm;U.Profiler=tg;U.PureComponent=Ul;U.StrictMode=eg;U.Suspense=ig;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dg;U.act=Id;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ed({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Vl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)bd.call(t,l)&&!Pd.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Fs,type:e.type,key:s,ref:i,props:r,_owner:a}};U.createContext=function(e){return e={$$typeof:rg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ng,_context:e},e.Consumer=e};U.createElement=Rd;U.createFactory=function(e){var t=Rd.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:sg,render:e}};U.isValidElement=Hl;U.lazy=function(e){return{$$typeof:og,_payload:{_status:-1,_result:e},_init:fg}};U.memo=function(e,t){return{$$typeof:ag,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=Ci.transition;Ci.transition={};try{e()}finally{Ci.transition=t}};U.unstable_act=Id;U.useCallback=function(e,t){return Fe.current.useCallback(e,t)};U.useContext=function(e){return Fe.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};U.useEffect=function(e,t){return Fe.current.useEffect(e,t)};U.useId=function(){return Fe.current.useId()};U.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return Fe.current.useMemo(e,t)};U.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};U.useRef=function(e){return Fe.current.useRef(e)};U.useState=function(e){return Fe.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return Fe.current.useTransition()};U.version="18.3.1";Sd.exports=U;var B=Sd.exports;const _=qm(B);var No={},Ad={exports:{}},Ze={},Nd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,F){var D=R.length;R.push(F);e:for(;0<D;){var ee=D-1>>>1,ue=R[ee];if(0<s(ue,F))R[ee]=F,R[D]=ue,D=ee;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],D=R.pop();if(D!==F){R[0]=D;e:for(var ee=0,ue=R.length,Un=ue>>>1;ee<Un;){var ct=2*(ee+1)-1,Lr=R[ct],Mt=ct+1,P=R[Mt];if(0>s(Lr,D))Mt<ue&&0>s(P,Lr)?(R[ee]=P,R[Mt]=D,ee=Mt):(R[ee]=Lr,R[ct]=D,ee=ct);else if(Mt<ue&&0>s(P,D))R[ee]=P,R[Mt]=D,ee=Mt;else break e}}return F}function s(R,F){var D=R.sortIndex-F.sortIndex;return D!==0?D:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,f=null,d=3,g=!1,w=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(R){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=R)r(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(u)}}function y(R){if(v=!1,p(R),!w)if(n(l)!==null)w=!0,jn(k);else{var F=n(u);F!==null&&Nt(y,F.startTime-R)}}function k(R,F){w=!1,v&&(v=!1,m(b),b=-1),g=!0;var D=d;try{for(p(F),f=n(l);f!==null&&(!(f.expirationTime>F)||R&&!L());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,d=f.priorityLevel;var ue=ee(f.expirationTime<=F);F=e.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(l)&&r(l),p(F)}else r(l);f=n(l)}if(f!==null)var Un=!0;else{var ct=n(u);ct!==null&&Nt(y,ct.startTime-F),Un=!1}return Un}finally{f=null,d=D,g=!1}}var E=!1,S=null,b=-1,M=5,A=-1;function L(){return!(e.unstable_now()-A<M)}function ye(){if(S!==null){var R=e.unstable_now();A=R;var F=!0;try{F=S(!0,R)}finally{F?tt():(E=!1,S=null)}}else E=!1}var tt;if(typeof c=="function")tt=function(){c(ye)};else if(typeof MessageChannel<"u"){var Ht=new MessageChannel,nt=Ht.port2;Ht.port1.onmessage=ye,tt=function(){nt.postMessage(null)}}else tt=function(){x(ye,0)};function jn(R){S=R,E||(E=!0,tt())}function Nt(R,F){b=x(function(){R(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,jn(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var D=d;d=F;try{return R()}finally{d=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=d;d=R;try{return F()}finally{d=D}},e.unstable_scheduleCallback=function(R,F,D){var ee=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?ee+D:ee):D=ee,R){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=D+ue,R={id:h++,callback:F,priorityLevel:R,startTime:D,expirationTime:ue,sortIndex:-1},D>ee?(R.sortIndex=D,t(u,R),n(l)===null&&R===n(u)&&(v?(m(b),b=-1):v=!0,Nt(y,D-ee))):(R.sortIndex=ue,t(l,R),w||g||(w=!0,jn(k))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var F=d;return function(){var D=d;d=F;try{return R.apply(this,arguments)}finally{d=D}}}})(Md);Nd.exports=Md;var pg=Nd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=B,Ye=pg;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Td=new Set,hs={};function zn(e,t){vr(e,t),vr(e+"Capture",t)}function vr(e,t){for(hs[e]=t,e=0;e<t.length;e++)Td.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=Object.prototype.hasOwnProperty,mg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ic={},Ac={};function gg(e){return Mo.call(Ac,e)?!0:Mo.call(Ic,e)?!1:mg.test(e)?Ac[e]=!0:(Ic[e]=!0,!1)}function yg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wg(e,t,n,r){if(t===null||typeof t>"u"||yg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jl=/[\-:]([a-z])/g;function Gl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jl,Gl);be[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jl,Gl);be[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jl,Gl);be[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ql(e,t,n,r){var s=be.hasOwnProperty(t)?be[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wg(t,n,s,r)&&(n=null),r||s===null?gg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vt=hg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),To=Symbol.for("react.profiler"),Od=Symbol.for("react.provider"),Ld=Symbol.for("react.context"),Xl=Symbol.for("react.forward_ref"),Oo=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),ql=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),Fd=Symbol.for("react.offscreen"),Nc=Symbol.iterator;function Fr(e){return e===null||typeof e!="object"?null:(e=Nc&&e[Nc]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Ga;function Jr(e){if(Ga===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ga=t&&t[1]||""}return`
`+Ga+e}var Qa=!1;function Ka(e,t){if(!e||Qa)return"";Qa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Qa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jr(e):""}function vg(e){switch(e.tag){case 5:return Jr(e.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 2:case 15:return e=Ka(e.type,!1),e;case 11:return e=Ka(e.type.render,!1),e;case 1:return e=Ka(e.type,!0),e;default:return""}}function Fo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Xn:return"Portal";case To:return"Profiler";case Kl:return"StrictMode";case Oo:return"Suspense";case Lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ld:return(e.displayName||"Context")+".Consumer";case Od:return(e._context.displayName||"Context")+".Provider";case Xl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ql:return t=e.displayName||null,t!==null?t:Fo(e.type)||"Memo";case Xt:t=e._payload,e=e._init;try{return Fo(e(t))}catch{}}return null}function _g(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fo(t);case 8:return t===Kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $d(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sg(e){var t=$d(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qs(e){e._valueTracker||(e._valueTracker=Sg(e))}function Dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$d(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $o(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Mc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zd(e,t){t=t.checked,t!=null&&Ql(e,"checked",t,!1)}function Do(e,t){zd(e,t);var n=pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zo(e,t.type,n):t.hasOwnProperty("defaultValue")&&zo(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zo(e,t,n){(t!=="number"||ji(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gr=Array.isArray;function ur(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(Gr(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pn(n)}}function Bd(e,t){var n=pn(t.value),r=pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ys,Ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kg=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(e){kg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ns[t]=ns[e]})});function Wd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ns.hasOwnProperty(e)&&ns[e]?(""+t).trim():t+"px"}function Vd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Wd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Eg=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uo(e,t){if(t){if(Eg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=null;function Yl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ho=null,cr=null,fr=null;function Fc(e){if(e=zs(e)){if(typeof Ho!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Sa(t),Ho(e.stateNode,e.type,t))}}function Hd(e){cr?fr?fr.push(e):fr=[e]:cr=e}function Jd(){if(cr){var e=cr,t=fr;if(fr=cr=null,Fc(e),t)for(e=0;e<t.length;e++)Fc(t[e])}}function Gd(e,t){return e(t)}function Qd(){}var Xa=!1;function Kd(e,t,n){if(Xa)return e(t,n);Xa=!0;try{return Gd(e,t,n)}finally{Xa=!1,(cr!==null||fr!==null)&&(Qd(),Jd())}}function gs(e,t){var n=e.stateNode;if(n===null)return null;var r=Sa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Jo=!1;if(Bt)try{var $r={};Object.defineProperty($r,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{Jo=!1}function Cg(e,t,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var rs=!1,Ui=null,Wi=!1,Go=null,xg={onError:function(e){rs=!0,Ui=e}};function bg(e,t,n,r,s,i,a,o,l){rs=!1,Ui=null,Cg.apply(xg,arguments)}function Pg(e,t,n,r,s,i,a,o,l){if(bg.apply(this,arguments),rs){if(rs){var u=Ui;rs=!1,Ui=null}else throw Error(C(198));Wi||(Wi=!0,Go=u)}}function Bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $c(e){if(Bn(e)!==e)throw Error(C(188))}function Rg(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return $c(s),e;if(i===r)return $c(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function qd(e){return e=Rg(e),e!==null?Yd(e):null}function Yd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yd(e);if(t!==null)return t;e=e.sibling}return null}var Zd=Ye.unstable_scheduleCallback,Dc=Ye.unstable_cancelCallback,Ig=Ye.unstable_shouldYield,Ag=Ye.unstable_requestPaint,le=Ye.unstable_now,Ng=Ye.unstable_getCurrentPriorityLevel,Zl=Ye.unstable_ImmediatePriority,ep=Ye.unstable_UserBlockingPriority,Vi=Ye.unstable_NormalPriority,Mg=Ye.unstable_LowPriority,tp=Ye.unstable_IdlePriority,ya=null,It=null;function Tg(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Fg,Og=Math.log,Lg=Math.LN2;function Fg(e){return e>>>=0,e===0?32:31-(Og(e)/Lg|0)|0}var Zs=64,ei=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Qr(o):(i&=a,i!==0&&(r=Qr(i)))}else a=n&~s,a!==0?r=Qr(a):i!==0&&(r=Qr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),s=1<<n,r|=e[n],t&=~s;return r}function $g(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-wt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=$g(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Qo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function np(){var e=Zs;return Zs<<=1,!(Zs&4194240)&&(Zs=64),e}function qa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $s(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function zg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function eu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var V=0;function rp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sp,tu,ip,ap,op,Ko=!1,ti=[],rn=null,sn=null,an=null,ys=new Map,ws=new Map,Yt=[],Bg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zc(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(t.pointerId)}}function Dr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=zs(t),t!==null&&tu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function jg(e,t,n,r,s){switch(t){case"focusin":return rn=Dr(rn,e,t,n,r,s),!0;case"dragenter":return sn=Dr(sn,e,t,n,r,s),!0;case"mouseover":return an=Dr(an,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ys.set(i,Dr(ys.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ws.set(i,Dr(ws.get(i)||null,e,t,n,r,s)),!0}return!1}function lp(e){var t=Pn(e.target);if(t!==null){var n=Bn(t);if(n!==null){if(t=n.tag,t===13){if(t=Xd(n),t!==null){e.blockedOn=t,op(e.priority,function(){ip(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vo=r,n.target.dispatchEvent(r),Vo=null}else return t=zs(n),t!==null&&tu(t),e.blockedOn=n,!1;t.shift()}return!0}function Bc(e,t,n){xi(e)&&n.delete(t)}function Ug(){Ko=!1,rn!==null&&xi(rn)&&(rn=null),sn!==null&&xi(sn)&&(sn=null),an!==null&&xi(an)&&(an=null),ys.forEach(Bc),ws.forEach(Bc)}function zr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ko||(Ko=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,Ug)))}function vs(e){function t(s){return zr(s,e)}if(0<ti.length){zr(ti[0],e);for(var n=1;n<ti.length;n++){var r=ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&zr(rn,e),sn!==null&&zr(sn,e),an!==null&&zr(an,e),ys.forEach(t),ws.forEach(t),n=0;n<Yt.length;n++)r=Yt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)lp(n),n.blockedOn===null&&Yt.shift()}var dr=Vt.ReactCurrentBatchConfig,Ji=!0;function Wg(e,t,n,r){var s=V,i=dr.transition;dr.transition=null;try{V=1,nu(e,t,n,r)}finally{V=s,dr.transition=i}}function Vg(e,t,n,r){var s=V,i=dr.transition;dr.transition=null;try{V=4,nu(e,t,n,r)}finally{V=s,dr.transition=i}}function nu(e,t,n,r){if(Ji){var s=Xo(e,t,n,r);if(s===null)oo(e,t,r,Gi,n),zc(e,r);else if(jg(s,e,t,n,r))r.stopPropagation();else if(zc(e,r),t&4&&-1<Bg.indexOf(e)){for(;s!==null;){var i=zs(s);if(i!==null&&sp(i),i=Xo(e,t,n,r),i===null&&oo(e,t,r,Gi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else oo(e,t,r,null,n)}}var Gi=null;function Xo(e,t,n,r){if(Gi=null,e=Yl(r),e=Pn(e),e!==null)if(t=Bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gi=e,null}function up(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ng()){case Zl:return 1;case ep:return 4;case Vi:case Mg:return 16;case tp:return 536870912;default:return 16}default:return 16}}var tn=null,ru=null,bi=null;function cp(){if(bi)return bi;var e,t=ru,n=t.length,r,s="value"in tn?tn.value:tn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return bi=s.slice(e,1<r?1-r:void 0)}function Pi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function jc(){return!1}function et(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ni:jc,this.isPropagationStopped=jc,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=et(Ar),Ds=ie({},Ar,{view:0,detail:0}),Hg=et(Ds),Ya,Za,Br,wa=ie({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Br&&(Br&&e.type==="mousemove"?(Ya=e.screenX-Br.screenX,Za=e.screenY-Br.screenY):Za=Ya=0,Br=e),Ya)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),Uc=et(wa),Jg=ie({},wa,{dataTransfer:0}),Gg=et(Jg),Qg=ie({},Ds,{relatedTarget:0}),eo=et(Qg),Kg=ie({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Xg=et(Kg),qg=ie({},Ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yg=et(qg),Zg=ie({},Ar,{data:0}),Wc=et(Zg),ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ry(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ny[e])?!!t[e]:!1}function iu(){return ry}var sy=ie({},Ds,{key:function(e){if(e.key){var t=ey[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ty[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(e){return e.type==="keypress"?Pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iy=et(sy),ay=ie({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vc=et(ay),oy=ie({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),ly=et(oy),uy=ie({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),cy=et(uy),fy=ie({},wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dy=et(fy),py=[9,13,27,32],au=Bt&&"CompositionEvent"in window,ss=null;Bt&&"documentMode"in document&&(ss=document.documentMode);var hy=Bt&&"TextEvent"in window&&!ss,fp=Bt&&(!au||ss&&8<ss&&11>=ss),Hc=" ",Jc=!1;function dp(e,t){switch(e){case"keyup":return py.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function my(e,t){switch(e){case"compositionend":return pp(t);case"keypress":return t.which!==32?null:(Jc=!0,Hc);case"textInput":return e=t.data,e===Hc&&Jc?null:e;default:return null}}function gy(e,t){if(Yn)return e==="compositionend"||!au&&dp(e,t)?(e=cp(),bi=ru=tn=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fp&&t.locale!=="ko"?null:t.data;default:return null}}var yy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yy[e.type]:t==="textarea"}function hp(e,t,n,r){Hd(r),t=Qi(t,"onChange"),0<t.length&&(n=new su("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var is=null,_s=null;function wy(e){xp(e,0)}function va(e){var t=tr(e);if(Dd(t))return e}function vy(e,t){if(e==="change")return t}var mp=!1;if(Bt){var to;if(Bt){var no="oninput"in document;if(!no){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),no=typeof Qc.oninput=="function"}to=no}else to=!1;mp=to&&(!document.documentMode||9<document.documentMode)}function Kc(){is&&(is.detachEvent("onpropertychange",gp),_s=is=null)}function gp(e){if(e.propertyName==="value"&&va(_s)){var t=[];hp(t,_s,e,Yl(e)),Kd(wy,t)}}function _y(e,t,n){e==="focusin"?(Kc(),is=t,_s=n,is.attachEvent("onpropertychange",gp)):e==="focusout"&&Kc()}function Sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return va(_s)}function ky(e,t){if(e==="click")return va(t)}function Ey(e,t){if(e==="input"||e==="change")return va(t)}function Cy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Cy;function Ss(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mo.call(t,s)||!_t(e[s],t[s]))return!1}return!0}function Xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qc(e,t){var n=Xc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xc(n)}}function yp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wp(){for(var e=window,t=ji();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ji(e.document)}return t}function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xy(e){var t=wp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yp(n.ownerDocument.documentElement,n)){if(r!==null&&ou(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=qc(n,i);var a=qc(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var by=Bt&&"documentMode"in document&&11>=document.documentMode,Zn=null,qo=null,as=null,Yo=!1;function Yc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yo||Zn==null||Zn!==ji(r)||(r=Zn,"selectionStart"in r&&ou(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),as&&Ss(as,r)||(as=r,r=Qi(qo,"onSelect"),0<r.length&&(t=new su("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zn)))}function ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var er={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionend:ri("Transition","TransitionEnd")},ro={},vp={};Bt&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function _a(e){if(ro[e])return ro[e];if(!er[e])return e;var t=er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vp)return ro[e]=t[n];return e}var _p=_a("animationend"),Sp=_a("animationiteration"),kp=_a("animationstart"),Ep=_a("transitionend"),Cp=new Map,Zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(e,t){Cp.set(e,t),zn(t,[e])}for(var so=0;so<Zc.length;so++){var io=Zc[so],Py=io.toLowerCase(),Ry=io[0].toUpperCase()+io.slice(1);mn(Py,"on"+Ry)}mn(_p,"onAnimationEnd");mn(Sp,"onAnimationIteration");mn(kp,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(Ep,"onTransitionEnd");vr("onMouseEnter",["mouseout","mouseover"]);vr("onMouseLeave",["mouseout","mouseover"]);vr("onPointerEnter",["pointerout","pointerover"]);vr("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kr));function ef(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pg(r,t,void 0,e),e.currentTarget=null}function xp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;ef(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;ef(s,o,u),i=l}}}if(Wi)throw e=Go,Wi=!1,Go=null,e}function K(e,t){var n=t[rl];n===void 0&&(n=t[rl]=new Set);var r=e+"__bubble";n.has(r)||(bp(t,e,2,!1),n.add(r))}function ao(e,t,n){var r=0;t&&(r|=4),bp(n,e,r,t)}var si="_reactListening"+Math.random().toString(36).slice(2);function ks(e){if(!e[si]){e[si]=!0,Td.forEach(function(n){n!=="selectionchange"&&(Iy.has(n)||ao(n,!1,e),ao(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[si]||(t[si]=!0,ao("selectionchange",!1,t))}}function bp(e,t,n,r){switch(up(t)){case 1:var s=Wg;break;case 4:s=Vg;break;default:s=nu}n=s.bind(null,t,n,e),s=void 0,!Jo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function oo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Pn(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Kd(function(){var u=i,h=Yl(n),f=[];e:{var d=Cp.get(e);if(d!==void 0){var g=su,w=e;switch(e){case"keypress":if(Pi(n)===0)break e;case"keydown":case"keyup":g=iy;break;case"focusin":w="focus",g=eo;break;case"focusout":w="blur",g=eo;break;case"beforeblur":case"afterblur":g=eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ly;break;case _p:case Sp:case kp:g=Xg;break;case Ep:g=cy;break;case"scroll":g=Hg;break;case"wheel":g=dy;break;case"copy":case"cut":case"paste":g=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Vc}var v=(t&4)!==0,x=!v&&e==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var c=u,p;c!==null;){p=c;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,m!==null&&(y=gs(c,m),y!=null&&v.push(Es(c,y,p)))),x)break;c=c.return}0<v.length&&(d=new g(d,w,null,n,h),f.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==Vo&&(w=n.relatedTarget||n.fromElement)&&(Pn(w)||w[jt]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?Pn(w):null,w!==null&&(x=Bn(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(v=Uc,y="onMouseLeave",m="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(v=Vc,y="onPointerLeave",m="onPointerEnter",c="pointer"),x=g==null?d:tr(g),p=w==null?d:tr(w),d=new v(y,c+"leave",g,n,h),d.target=x,d.relatedTarget=p,y=null,Pn(h)===u&&(v=new v(m,c+"enter",w,n,h),v.target=p,v.relatedTarget=x,y=v),x=y,g&&w)t:{for(v=g,m=w,c=0,p=v;p;p=Wn(p))c++;for(p=0,y=m;y;y=Wn(y))p++;for(;0<c-p;)v=Wn(v),c--;for(;0<p-c;)m=Wn(m),p--;for(;c--;){if(v===m||m!==null&&v===m.alternate)break t;v=Wn(v),m=Wn(m)}v=null}else v=null;g!==null&&tf(f,d,g,v,!1),w!==null&&x!==null&&tf(f,x,w,v,!0)}}e:{if(d=u?tr(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var k=vy;else if(Gc(d))if(mp)k=Ey;else{k=Sy;var E=_y}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=ky);if(k&&(k=k(e,u))){hp(f,k,n,h);break e}E&&E(e,d,u),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&zo(d,"number",d.value)}switch(E=u?tr(u):window,e){case"focusin":(Gc(E)||E.contentEditable==="true")&&(Zn=E,qo=u,as=null);break;case"focusout":as=qo=Zn=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,Yc(f,n,h);break;case"selectionchange":if(by)break;case"keydown":case"keyup":Yc(f,n,h)}var S;if(au)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Yn?dp(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(fp&&n.locale!=="ko"&&(Yn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Yn&&(S=cp()):(tn=h,ru="value"in tn?tn.value:tn.textContent,Yn=!0)),E=Qi(u,b),0<E.length&&(b=new Wc(b,e,null,n,h),f.push({event:b,listeners:E}),S?b.data=S:(S=pp(n),S!==null&&(b.data=S)))),(S=hy?my(e,n):gy(e,n))&&(u=Qi(u,"onBeforeInput"),0<u.length&&(h=new Wc("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=S))}xp(f,t)})}function Es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gs(e,n),i!=null&&r.unshift(Es(e,i,s)),i=gs(e,t),i!=null&&r.push(Es(e,i,s))),e=e.return}return r}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tf(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=gs(n,i),l!=null&&a.unshift(Es(n,l,o))):s||(l=gs(n,i),l!=null&&a.push(Es(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Ay=/\r\n?/g,Ny=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(Ay,`
`).replace(Ny,"")}function ii(e,t,n){if(t=nf(t),nf(e)!==t&&n)throw Error(C(425))}function Ki(){}var Zo=null,el=null;function tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nl=typeof setTimeout=="function"?setTimeout:void 0,My=typeof clearTimeout=="function"?clearTimeout:void 0,rf=typeof Promise=="function"?Promise:void 0,Ty=typeof queueMicrotask=="function"?queueMicrotask:typeof rf<"u"?function(e){return rf.resolve(null).then(e).catch(Oy)}:nl;function Oy(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),vs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vs(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Nr,Cs="__reactProps$"+Nr,jt="__reactContainer$"+Nr,rl="__reactEvents$"+Nr,Ly="__reactListeners$"+Nr,Fy="__reactHandles$"+Nr;function Pn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sf(e);e!==null;){if(n=e[Pt])return n;e=sf(e)}return t}e=n,n=e.parentNode}return null}function zs(e){return e=e[Pt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Sa(e){return e[Cs]||null}var sl=[],nr=-1;function gn(e){return{current:e}}function X(e){0>nr||(e.current=sl[nr],sl[nr]=null,nr--)}function G(e,t){nr++,sl[nr]=e.current,e.current=t}var hn={},Me=gn(hn),je=gn(!1),Tn=hn;function _r(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(e){return e=e.childContextTypes,e!=null}function Xi(){X(je),X(Me)}function af(e,t,n){if(Me.current!==hn)throw Error(C(168));G(Me,t),G(je,n)}function Pp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,_g(e)||"Unknown",s));return ie({},n,r)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Tn=Me.current,G(Me,e),G(je,je.current),!0}function of(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=Pp(e,t,Tn),r.__reactInternalMemoizedMergedChildContext=e,X(je),X(Me),G(Me,e)):X(je),G(je,n)}var Ft=null,ka=!1,uo=!1;function Rp(e){Ft===null?Ft=[e]:Ft.push(e)}function $y(e){ka=!0,Rp(e)}function yn(){if(!uo&&Ft!==null){uo=!0;var e=0,t=V;try{var n=Ft;for(V=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ft=null,ka=!1}catch(s){throw Ft!==null&&(Ft=Ft.slice(e+1)),Zd(Zl,yn),s}finally{V=t,uo=!1}}return null}var rr=[],sr=0,Yi=null,Zi=0,rt=[],st=0,On=null,$t=1,Dt="";function En(e,t){rr[sr++]=Zi,rr[sr++]=Yi,Yi=e,Zi=t}function Ip(e,t,n){rt[st++]=$t,rt[st++]=Dt,rt[st++]=On,On=e;var r=$t;e=Dt;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var i=32-wt(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,$t=1<<32-wt(t)+s|n<<s|r,Dt=i+e}else $t=1<<i|n<<s|r,Dt=e}function lu(e){e.return!==null&&(En(e,1),Ip(e,1,0))}function uu(e){for(;e===Yi;)Yi=rr[--sr],rr[sr]=null,Zi=rr[--sr],rr[sr]=null;for(;e===On;)On=rt[--st],rt[st]=null,Dt=rt[--st],rt[st]=null,$t=rt[--st],rt[st]=null}var qe=null,Xe=null,Y=!1,gt=null;function Ap(e,t){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Xe=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:$t,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,Xe=null,!0):!1;default:return!1}}function il(e){return(e.mode&1)!==0&&(e.flags&128)===0}function al(e){if(Y){var t=Xe;if(t){var n=t;if(!lf(e,t)){if(il(e))throw Error(C(418));t=on(n.nextSibling);var r=qe;t&&lf(e,t)?Ap(r,n):(e.flags=e.flags&-4097|2,Y=!1,qe=e)}}else{if(il(e))throw Error(C(418));e.flags=e.flags&-4097|2,Y=!1,qe=e}}}function uf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function ai(e){if(e!==qe)return!1;if(!Y)return uf(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tl(e.type,e.memoizedProps)),t&&(t=Xe)){if(il(e))throw Np(),Error(C(418));for(;t;)Ap(e,t),t=on(t.nextSibling)}if(uf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=qe?on(e.stateNode.nextSibling):null;return!0}function Np(){for(var e=Xe;e;)e=on(e.nextSibling)}function Sr(){Xe=qe=null,Y=!1}function cu(e){gt===null?gt=[e]:gt.push(e)}var Dy=Vt.ReactCurrentBatchConfig;function jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function oi(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cf(e){var t=e._init;return t(e._payload)}function Mp(e){function t(m,c){if(e){var p=m.deletions;p===null?(m.deletions=[c],m.flags|=16):p.push(c)}}function n(m,c){if(!e)return null;for(;c!==null;)t(m,c),c=c.sibling;return null}function r(m,c){for(m=new Map;c!==null;)c.key!==null?m.set(c.key,c):m.set(c.index,c),c=c.sibling;return m}function s(m,c){return m=fn(m,c),m.index=0,m.sibling=null,m}function i(m,c,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<c?(m.flags|=2,c):p):(m.flags|=2,c)):(m.flags|=1048576,c)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,c,p,y){return c===null||c.tag!==6?(c=yo(p,m.mode,y),c.return=m,c):(c=s(c,p),c.return=m,c)}function l(m,c,p,y){var k=p.type;return k===qn?h(m,c,p.props.children,y,p.key):c!==null&&(c.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xt&&cf(k)===c.type)?(y=s(c,p.props),y.ref=jr(m,c,p),y.return=m,y):(y=Oi(p.type,p.key,p.props,null,m.mode,y),y.ref=jr(m,c,p),y.return=m,y)}function u(m,c,p,y){return c===null||c.tag!==4||c.stateNode.containerInfo!==p.containerInfo||c.stateNode.implementation!==p.implementation?(c=wo(p,m.mode,y),c.return=m,c):(c=s(c,p.children||[]),c.return=m,c)}function h(m,c,p,y,k){return c===null||c.tag!==7?(c=Mn(p,m.mode,y,k),c.return=m,c):(c=s(c,p),c.return=m,c)}function f(m,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return c=yo(""+c,m.mode,p),c.return=m,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Xs:return p=Oi(c.type,c.key,c.props,null,m.mode,p),p.ref=jr(m,null,c),p.return=m,p;case Xn:return c=wo(c,m.mode,p),c.return=m,c;case Xt:var y=c._init;return f(m,y(c._payload),p)}if(Gr(c)||Fr(c))return c=Mn(c,m.mode,p,null),c.return=m,c;oi(m,c)}return null}function d(m,c,p,y){var k=c!==null?c.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:o(m,c,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xs:return p.key===k?l(m,c,p,y):null;case Xn:return p.key===k?u(m,c,p,y):null;case Xt:return k=p._init,d(m,c,k(p._payload),y)}if(Gr(p)||Fr(p))return k!==null?null:h(m,c,p,y,null);oi(m,p)}return null}function g(m,c,p,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(p)||null,o(c,m,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xs:return m=m.get(y.key===null?p:y.key)||null,l(c,m,y,k);case Xn:return m=m.get(y.key===null?p:y.key)||null,u(c,m,y,k);case Xt:var E=y._init;return g(m,c,p,E(y._payload),k)}if(Gr(y)||Fr(y))return m=m.get(p)||null,h(c,m,y,k,null);oi(c,y)}return null}function w(m,c,p,y){for(var k=null,E=null,S=c,b=c=0,M=null;S!==null&&b<p.length;b++){S.index>b?(M=S,S=null):M=S.sibling;var A=d(m,S,p[b],y);if(A===null){S===null&&(S=M);break}e&&S&&A.alternate===null&&t(m,S),c=i(A,c,b),E===null?k=A:E.sibling=A,E=A,S=M}if(b===p.length)return n(m,S),Y&&En(m,b),k;if(S===null){for(;b<p.length;b++)S=f(m,p[b],y),S!==null&&(c=i(S,c,b),E===null?k=S:E.sibling=S,E=S);return Y&&En(m,b),k}for(S=r(m,S);b<p.length;b++)M=g(S,m,b,p[b],y),M!==null&&(e&&M.alternate!==null&&S.delete(M.key===null?b:M.key),c=i(M,c,b),E===null?k=M:E.sibling=M,E=M);return e&&S.forEach(function(L){return t(m,L)}),Y&&En(m,b),k}function v(m,c,p,y){var k=Fr(p);if(typeof k!="function")throw Error(C(150));if(p=k.call(p),p==null)throw Error(C(151));for(var E=k=null,S=c,b=c=0,M=null,A=p.next();S!==null&&!A.done;b++,A=p.next()){S.index>b?(M=S,S=null):M=S.sibling;var L=d(m,S,A.value,y);if(L===null){S===null&&(S=M);break}e&&S&&L.alternate===null&&t(m,S),c=i(L,c,b),E===null?k=L:E.sibling=L,E=L,S=M}if(A.done)return n(m,S),Y&&En(m,b),k;if(S===null){for(;!A.done;b++,A=p.next())A=f(m,A.value,y),A!==null&&(c=i(A,c,b),E===null?k=A:E.sibling=A,E=A);return Y&&En(m,b),k}for(S=r(m,S);!A.done;b++,A=p.next())A=g(S,m,b,A.value,y),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?b:A.key),c=i(A,c,b),E===null?k=A:E.sibling=A,E=A);return e&&S.forEach(function(ye){return t(m,ye)}),Y&&En(m,b),k}function x(m,c,p,y){if(typeof p=="object"&&p!==null&&p.type===qn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Xs:e:{for(var k=p.key,E=c;E!==null;){if(E.key===k){if(k=p.type,k===qn){if(E.tag===7){n(m,E.sibling),c=s(E,p.props.children),c.return=m,m=c;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xt&&cf(k)===E.type){n(m,E.sibling),c=s(E,p.props),c.ref=jr(m,E,p),c.return=m,m=c;break e}n(m,E);break}else t(m,E);E=E.sibling}p.type===qn?(c=Mn(p.props.children,m.mode,y,p.key),c.return=m,m=c):(y=Oi(p.type,p.key,p.props,null,m.mode,y),y.ref=jr(m,c,p),y.return=m,m=y)}return a(m);case Xn:e:{for(E=p.key;c!==null;){if(c.key===E)if(c.tag===4&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){n(m,c.sibling),c=s(c,p.children||[]),c.return=m,m=c;break e}else{n(m,c);break}else t(m,c);c=c.sibling}c=wo(p,m.mode,y),c.return=m,m=c}return a(m);case Xt:return E=p._init,x(m,c,E(p._payload),y)}if(Gr(p))return w(m,c,p,y);if(Fr(p))return v(m,c,p,y);oi(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,c!==null&&c.tag===6?(n(m,c.sibling),c=s(c,p),c.return=m,m=c):(n(m,c),c=yo(p,m.mode,y),c.return=m,m=c),a(m)):n(m,c)}return x}var kr=Mp(!0),Tp=Mp(!1),ea=gn(null),ta=null,ir=null,fu=null;function du(){fu=ir=ta=null}function pu(e){var t=ea.current;X(ea),e._currentValue=t}function ol(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pr(e,t){ta=e,fu=ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(fu!==e)if(e={context:e,memoizedValue:t,next:null},ir===null){if(ta===null)throw Error(C(308));ir=e,ta.dependencies={lanes:0,firstContext:e}}else ir=ir.next=e;return t}var Rn=null;function hu(e){Rn===null?Rn=[e]:Rn.push(e)}function Op(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,hu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ut(e,r)}function Ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qt=!1;function mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ut(e,n)}return s=r.interleaved,s===null?(t.next=t,hu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ut(e,n)}function Ri(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eu(e,n)}}function ff(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function na(e,t,n,r){var s=e.updateQueue;qt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,h=u=l=null,o=i;do{var d=o.lane,g=o.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,v=o;switch(d=t,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(g,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,d=typeof w=="function"?w.call(g,f,d):w,d==null)break e;f=ie({},f,d);break e;case 2:qt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[o]:d.push(o))}else g={eventTime:g,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=g,l=f):h=h.next=g,a|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;d=o,o=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Fn|=a,e.lanes=a,e.memoizedState=f}}function df(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var Bs={},At=gn(Bs),xs=gn(Bs),bs=gn(Bs);function In(e){if(e===Bs)throw Error(C(174));return e}function gu(e,t){switch(G(bs,t),G(xs,e),G(At,Bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jo(t,e)}X(At),G(At,t)}function Er(){X(At),X(xs),X(bs)}function Fp(e){In(bs.current);var t=In(At.current),n=jo(t,e.type);t!==n&&(G(xs,e),G(At,n))}function yu(e){xs.current===e&&(X(At),X(xs))}var re=gn(0);function ra(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function wu(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var Ii=Vt.ReactCurrentDispatcher,fo=Vt.ReactCurrentBatchConfig,Ln=0,se=null,he=null,_e=null,sa=!1,os=!1,Ps=0,zy=0;function Re(){throw Error(C(321))}function vu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function _u(e,t,n,r,s,i){if(Ln=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ii.current=e===null||e.memoizedState===null?Wy:Vy,e=n(r,s),os){i=0;do{if(os=!1,Ps=0,25<=i)throw Error(C(301));i+=1,_e=he=null,t.updateQueue=null,Ii.current=Hy,e=n(r,s)}while(os)}if(Ii.current=ia,t=he!==null&&he.next!==null,Ln=0,_e=he=se=null,sa=!1,t)throw Error(C(300));return e}function Su(){var e=Ps!==0;return Ps=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?se.memoizedState=_e=e:_e=_e.next=e,_e}function ut(){if(he===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=_e===null?se.memoizedState:_e.next;if(t!==null)_e=t,he=e;else{if(e===null)throw Error(C(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},_e===null?se.memoizedState=_e=e:_e=_e.next=e}return _e}function Rs(e,t){return typeof t=="function"?t(e):t}function po(e){var t=ut(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=he,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var h=u.lane;if((Ln&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,se.lanes|=h,Fn|=h}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,_t(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,Fn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ho(e){var t=ut(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);_t(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $p(){}function Dp(e,t){var n=se,r=ut(),s=t(),i=!_t(r.memoizedState,s);if(i&&(r.memoizedState=s,Be=!0),r=r.queue,ku(jp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Is(9,Bp.bind(null,n,r,s,t),void 0,null),Se===null)throw Error(C(349));Ln&30||zp(n,t,s)}return s}function zp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bp(e,t,n,r){t.value=n,t.getSnapshot=r,Up(t)&&Wp(e)}function jp(e,t,n){return n(function(){Up(t)&&Wp(e)})}function Up(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function Wp(e){var t=Ut(e,1);t!==null&&vt(t,e,1,-1)}function pf(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},t.queue=e,e=e.dispatch=Uy.bind(null,se,e),[t.memoizedState,e]}function Is(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vp(){return ut().memoizedState}function Ai(e,t,n,r){var s=Ct();se.flags|=e,s.memoizedState=Is(1|t,n,void 0,r===void 0?null:r)}function Ea(e,t,n,r){var s=ut();r=r===void 0?null:r;var i=void 0;if(he!==null){var a=he.memoizedState;if(i=a.destroy,r!==null&&vu(r,a.deps)){s.memoizedState=Is(t,n,i,r);return}}se.flags|=e,s.memoizedState=Is(1|t,n,i,r)}function hf(e,t){return Ai(8390656,8,e,t)}function ku(e,t){return Ea(2048,8,e,t)}function Hp(e,t){return Ea(4,2,e,t)}function Jp(e,t){return Ea(4,4,e,t)}function Gp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qp(e,t,n){return n=n!=null?n.concat([e]):null,Ea(4,4,Gp.bind(null,t,e),n)}function Eu(){}function Kp(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xp(e,t){var n=ut();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qp(e,t,n){return Ln&21?(_t(n,t)||(n=np(),se.lanes|=n,Fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function By(e,t){var n=V;V=n!==0&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{V=n,fo.transition=r}}function Yp(){return ut().memoizedState}function jy(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zp(e))eh(t,n);else if(n=Op(e,t,n,r),n!==null){var s=Le();vt(n,e,r,s),th(n,t,r)}}function Uy(e,t,n){var r=cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zp(e))eh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,_t(o,a)){var l=t.interleaved;l===null?(s.next=s,hu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Op(e,t,s,r),n!==null&&(s=Le(),vt(n,e,r,s),th(n,t,r))}}function Zp(e){var t=e.alternate;return e===se||t!==null&&t===se}function eh(e,t){os=sa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function th(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,eu(e,n)}}var ia={readContext:lt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Wy={readContext:lt,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:hf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ai(4194308,4,Gp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ai(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jy.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:pf,useDebugValue:Eu,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=pf(!1),t=e[0];return e=By.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,s=Ct();if(Y){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),Se===null)throw Error(C(349));Ln&30||zp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,hf(jp.bind(null,r,i,e),[e]),r.flags|=2048,Is(9,Bp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ct(),t=Se.identifierPrefix;if(Y){var n=Dt,r=$t;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ps++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vy={readContext:lt,useCallback:Kp,useContext:lt,useEffect:ku,useImperativeHandle:Qp,useInsertionEffect:Hp,useLayoutEffect:Jp,useMemo:Xp,useReducer:po,useRef:Vp,useState:function(){return po(Rs)},useDebugValue:Eu,useDeferredValue:function(e){var t=ut();return qp(t,he.memoizedState,e)},useTransition:function(){var e=po(Rs)[0],t=ut().memoizedState;return[e,t]},useMutableSource:$p,useSyncExternalStore:Dp,useId:Yp,unstable_isNewReconciler:!1},Hy={readContext:lt,useCallback:Kp,useContext:lt,useEffect:ku,useImperativeHandle:Qp,useInsertionEffect:Hp,useLayoutEffect:Jp,useMemo:Xp,useReducer:ho,useRef:Vp,useState:function(){return ho(Rs)},useDebugValue:Eu,useDeferredValue:function(e){var t=ut();return he===null?t.memoizedState=e:qp(t,he.memoizedState,e)},useTransition:function(){var e=ho(Rs)[0],t=ut().memoizedState;return[e,t]},useMutableSource:$p,useSyncExternalStore:Dp,useId:Yp,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ll(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ca={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Le(),s=cn(e),i=zt(r,s);i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,s),t!==null&&(vt(t,e,s,r),Ri(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Le(),s=cn(e),i=zt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,s),t!==null&&(vt(t,e,s,r),Ri(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Le(),r=cn(e),s=zt(n,r);s.tag=2,t!=null&&(s.callback=t),t=ln(e,s,r),t!==null&&(vt(t,e,r,n),Ri(t,e,r))}};function mf(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ss(n,r)||!Ss(s,i):!0}function nh(e,t,n){var r=!1,s=hn,i=t.contextType;return typeof i=="object"&&i!==null?i=lt(i):(s=Ue(t)?Tn:Me.current,r=t.contextTypes,i=(r=r!=null)?_r(e,s):hn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ca,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function gf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ca.enqueueReplaceState(t,t.state,null)}function ul(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},mu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=lt(i):(i=Ue(t)?Tn:Me.current,s.context=_r(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ll(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ca.enqueueReplaceState(s,s.state,null),na(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Cr(e,t){try{var n="",r=t;do n+=vg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function cl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jy=typeof WeakMap=="function"?WeakMap:Map;function rh(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oa||(oa=!0,_l=r),cl(e,t)},n}function sh(e,t,n){n=zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){cl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cl(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function yf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Jy;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=aw.bind(null,e,t,n),t.then(e,e))}function wf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var Gy=Vt.ReactCurrentOwner,Be=!1;function Oe(e,t,n,r){t.child=e===null?Tp(t,null,n,r):kr(t,e.child,n,r)}function _f(e,t,n,r,s){n=n.render;var i=t.ref;return pr(t,s),r=_u(e,t,n,r,i,s),n=Su(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wt(e,t,s)):(Y&&n&&lu(t),t.flags|=1,Oe(e,t,r,s),t.child)}function Sf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Nu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ih(e,t,i,r,s)):(e=Oi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ss,n(a,r)&&e.ref===t.ref)return Wt(e,t,s)}return t.flags|=1,e=fn(i,r),e.ref=t.ref,e.return=t,t.child=e}function ih(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ss(i,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Wt(e,t,s)}return fl(e,t,n,r,s)}function ah(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(or,Qe),Qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(or,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,G(or,Qe),Qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,G(or,Qe),Qe|=r;return Oe(e,t,s,n),t.child}function oh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fl(e,t,n,r,s){var i=Ue(n)?Tn:Me.current;return i=_r(t,i),pr(t,s),n=_u(e,t,n,r,i,s),r=Su(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wt(e,t,s)):(Y&&r&&lu(t),t.flags|=1,Oe(e,t,n,s),t.child)}function kf(e,t,n,r,s){if(Ue(n)){var i=!0;qi(t)}else i=!1;if(pr(t,s),t.stateNode===null)Ni(e,t),nh(t,n,r),ul(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=lt(u):(u=Ue(n)?Tn:Me.current,u=_r(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&gf(t,a,r,u),qt=!1;var d=t.memoizedState;a.state=d,na(t,r,a,s),l=t.memoizedState,o!==r||d!==l||je.current||qt?(typeof h=="function"&&(ll(t,n,h,r),l=t.memoizedState),(o=qt||mf(t,n,o,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Lp(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:pt(t.type,o),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=lt(l):(l=Ue(n)?Tn:Me.current,l=_r(t,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&gf(t,a,r,l),qt=!1,d=t.memoizedState,a.state=d,na(t,r,a,s);var w=t.memoizedState;o!==f||d!==w||je.current||qt?(typeof g=="function"&&(ll(t,n,g,r),w=t.memoizedState),(u=qt||mf(t,n,u,r,d,w,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return dl(e,t,n,r,i,s)}function dl(e,t,n,r,s,i){oh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&of(t,n,!1),Wt(e,t,i);r=t.stateNode,Gy.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=kr(t,e.child,null,i),t.child=kr(t,null,o,i)):Oe(e,t,o,i),t.memoizedState=r.state,s&&of(t,n,!0),t.child}function lh(e){var t=e.stateNode;t.pendingContext?af(e,t.pendingContext,t.pendingContext!==t.context):t.context&&af(e,t.context,!1),gu(e,t.containerInfo)}function Ef(e,t,n,r,s){return Sr(),cu(s),t.flags|=256,Oe(e,t,n,r),t.child}var pl={dehydrated:null,treeContext:null,retryLane:0};function hl(e){return{baseLanes:e,cachePool:null,transitions:null}}function uh(e,t,n){var r=t.pendingProps,s=re.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),G(re,s&1),e===null)return al(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Pa(a,r,0,null),e=Mn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hl(n),t.memoizedState=pl,e):Cu(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Qy(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=fn(o,i):(i=Mn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?hl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=pl,r}return i=e.child,e=i.sibling,r=fn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Cu(e,t){return t=Pa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function li(e,t,n,r){return r!==null&&cu(r),kr(t,e.child,null,n),e=Cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qy(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=mo(Error(C(422))),li(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Pa({mode:"visible",children:r.children},s,0,null),i=Mn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&kr(t,e.child,null,a),t.child.memoizedState=hl(a),t.memoizedState=pl,i);if(!(t.mode&1))return li(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(C(419)),r=mo(i,r,void 0),li(e,t,a,r)}if(o=(a&e.childLanes)!==0,Be||o){if(r=Se,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ut(e,s),vt(r,e,s,-1))}return Au(),r=mo(Error(C(421))),li(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ow.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Xe=on(s.nextSibling),qe=t,Y=!0,gt=null,e!==null&&(rt[st++]=$t,rt[st++]=Dt,rt[st++]=On,$t=e.id,Dt=e.overflow,On=t),t=Cu(t,r.children),t.flags|=4096,t)}function Cf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ol(e.return,t,n)}function go(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ch(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Oe(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cf(e,n,t);else if(e.tag===19)Cf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(G(re,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ra(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),go(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ra(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}go(t,!0,n,null,i);break;case"together":go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ni(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ky(e,t,n){switch(t.tag){case 3:lh(t),Sr();break;case 5:Fp(t);break;case 1:Ue(t.type)&&qi(t);break;case 4:gu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;G(ea,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(G(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?uh(e,t,n):(G(re,re.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);G(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ch(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,ah(e,t,n)}return Wt(e,t,n)}var fh,ml,dh,ph;fh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ml=function(){};dh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,In(At.current);var i=null;switch(n){case"input":s=$o(e,s),r=$o(e,r),i=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":s=Bo(e,s),r=Bo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ki)}Uo(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&K("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ph=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ur(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xy(e,t,n){var r=t.pendingProps;switch(uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ue(t.type)&&Xi(),Ie(t),null;case 3:return r=t.stateNode,Er(),X(je),X(Me),wu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gt!==null&&(El(gt),gt=null))),ml(e,t),Ie(t),null;case 5:yu(t);var s=In(bs.current);if(n=t.type,e!==null&&t.stateNode!=null)dh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Ie(t),null}if(e=In(At.current),ai(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Pt]=t,r[Cs]=i,e=(t.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(s=0;s<Kr.length;s++)K(Kr[s],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":Mc(r,i),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},K("invalid",r);break;case"textarea":Oc(r,i),K("invalid",r)}Uo(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ii(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ii(r.textContent,o,e),s=["children",""+o]):hs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&K("scroll",r)}switch(n){case"input":qs(r),Tc(r,i,!0);break;case"textarea":qs(r),Lc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ki)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Pt]=t,e[Cs]=r,fh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Wo(n,r),n){case"dialog":K("cancel",e),K("close",e),s=r;break;case"iframe":case"object":case"embed":K("load",e),s=r;break;case"video":case"audio":for(s=0;s<Kr.length;s++)K(Kr[s],e);s=r;break;case"source":K("error",e),s=r;break;case"img":case"image":case"link":K("error",e),K("load",e),s=r;break;case"details":K("toggle",e),s=r;break;case"input":Mc(e,r),s=$o(e,r),K("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),K("invalid",e);break;case"textarea":Oc(e,r),s=Bo(e,r),K("invalid",e);break;default:s=r}Uo(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Vd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ud(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ms(e,l):typeof l=="number"&&ms(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&K("scroll",e):l!=null&&Ql(e,i,l,a))}switch(n){case"input":qs(e),Tc(e,r,!1);break;case"textarea":qs(e),Lc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ur(e,!!r.multiple,i,!1):r.defaultValue!=null&&ur(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ki)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)ph(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=In(bs.current),In(At.current),ai(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pt]=t,(i=r.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:ii(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ii(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=t,t.stateNode=r}return Ie(t),null;case 13:if(X(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Xe!==null&&t.mode&1&&!(t.flags&128))Np(),Sr(),t.flags|=98560,i=!1;else if(i=ai(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Pt]=t}else Sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),i=!1}else gt!==null&&(El(gt),gt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?me===0&&(me=3):Au())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return Er(),ml(e,t),e===null&&ks(t.stateNode.containerInfo),Ie(t),null;case 10:return pu(t.type._context),Ie(t),null;case 17:return Ue(t.type)&&Xi(),Ie(t),null;case 19:if(X(re),i=t.memoizedState,i===null)return Ie(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Ur(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ra(e),a!==null){for(t.flags|=128,Ur(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return G(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>xr&&(t.flags|=128,r=!0,Ur(i,!1),t.lanes=4194304)}else{if(!r)if(e=ra(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Y)return Ie(t),null}else 2*le()-i.renderingStartTime>xr&&n!==1073741824&&(t.flags|=128,r=!0,Ur(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,n=re.current,G(re,r?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return Iu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function qy(e,t){switch(uu(t),t.tag){case 1:return Ue(t.type)&&Xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(),X(je),X(Me),wu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yu(t),null;case 13:if(X(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(re),null;case 4:return Er(),null;case 10:return pu(t.type._context),null;case 22:case 23:return Iu(),null;case 24:return null;default:return null}}var ui=!1,Ne=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,I=null;function ar(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function gl(e,t,n){try{n()}catch(r){ae(e,t,r)}}var xf=!1;function Zy(e,t){if(Zo=Ji,e=wp(),ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,h=0,f=e,d=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==i||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===e)break t;if(d===n&&++u===s&&(o=a),d===i&&++h===r&&(l=a),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(el={focusedElem:e,selectionRange:n},Ji=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,x=w.memoizedState,m=t.stateNode,c=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:pt(t.type,v),x);m.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(y){ae(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return w=xf,xf=!1,w}function ls(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&gl(t,n,i)}s=s.next}while(s!==r)}}function xa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function yl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hh(e){var t=e.alternate;t!==null&&(e.alternate=null,hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Cs],delete t[rl],delete t[Ly],delete t[Fy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mh(e){return e.tag===5||e.tag===3||e.tag===4}function bf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ki));else if(r!==4&&(e=e.child,e!==null))for(wl(e,t,n),e=e.sibling;e!==null;)wl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vl(e,t,n),e=e.sibling;e!==null;)vl(e,t,n),e=e.sibling}var Ee=null,mt=!1;function Jt(e,t,n){for(n=n.child;n!==null;)gh(e,t,n),n=n.sibling}function gh(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(ya,n)}catch{}switch(n.tag){case 5:Ne||ar(n,t);case 6:var r=Ee,s=mt;Ee=null,Jt(e,t,n),Ee=r,mt=s,Ee!==null&&(mt?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(mt?(e=Ee,n=n.stateNode,e.nodeType===8?lo(e.parentNode,n):e.nodeType===1&&lo(e,n),vs(e)):lo(Ee,n.stateNode));break;case 4:r=Ee,s=mt,Ee=n.stateNode.containerInfo,mt=!0,Jt(e,t,n),Ee=r,mt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&gl(n,t,a),s=s.next}while(s!==r)}Jt(e,t,n);break;case 1:if(!Ne&&(ar(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ae(n,t,o)}Jt(e,t,n);break;case 21:Jt(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Jt(e,t,n),Ne=r):Jt(e,t,n);break;default:Jt(e,t,n)}}function Pf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yy),t.forEach(function(r){var s=lw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ee=o.stateNode,mt=!1;break e;case 3:Ee=o.stateNode.containerInfo,mt=!0;break e;case 4:Ee=o.stateNode.containerInfo,mt=!0;break e}o=o.return}if(Ee===null)throw Error(C(160));gh(i,a,s),Ee=null,mt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yh(t,e),t=t.sibling}function yh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),kt(e),r&4){try{ls(3,e,e.return),xa(3,e)}catch(v){ae(e,e.return,v)}try{ls(5,e,e.return)}catch(v){ae(e,e.return,v)}}break;case 1:ft(t,e),kt(e),r&512&&n!==null&&ar(n,n.return);break;case 5:if(ft(t,e),kt(e),r&512&&n!==null&&ar(n,n.return),e.flags&32){var s=e.stateNode;try{ms(s,"")}catch(v){ae(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&zd(s,i),Wo(o,a);var u=Wo(o,i);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?Vd(s,f):h==="dangerouslySetInnerHTML"?Ud(s,f):h==="children"?ms(s,f):Ql(s,h,f,u)}switch(o){case"input":Do(s,i);break;case"textarea":Bd(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ur(s,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?ur(s,!!i.multiple,i.defaultValue,!0):ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cs]=i}catch(v){ae(e,e.return,v)}}break;case 6:if(ft(t,e),kt(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ae(e,e.return,v)}}break;case 3:if(ft(t,e),kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vs(t.containerInfo)}catch(v){ae(e,e.return,v)}break;case 4:ft(t,e),kt(e);break;case 13:ft(t,e),kt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pu=le())),r&4&&Pf(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||h,ft(t,e),Ne=u):ft(t,e),kt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(I=e,h=e.child;h!==null;){for(f=I=h;I!==null;){switch(d=I,g=d.child,d.tag){case 0:case 11:case 14:case 15:ls(4,d,d.return);break;case 1:ar(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){ae(r,n,v)}}break;case 5:ar(d,d.return);break;case 22:if(d.memoizedState!==null){If(f);continue}}g!==null?(g.return=d,I=g):If(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Wd("display",a))}catch(v){ae(e,e.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ae(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ft(t,e),kt(e),r&4&&Pf(e);break;case 21:break;default:ft(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mh(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ms(s,""),r.flags&=-33);var i=bf(e);vl(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=bf(e);wl(e,o,a);break;default:throw Error(C(161))}}catch(l){ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ew(e,t,n){I=e,wh(e)}function wh(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ui;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ne;o=ui;var u=Ne;if(ui=a,(Ne=l)&&!u)for(I=s;I!==null;)a=I,l=a.child,a.tag===22&&a.memoizedState!==null?Af(s):l!==null?(l.return=a,I=l):Af(s);for(;i!==null;)I=i,wh(i),i=i.sibling;I=s,ui=o,Ne=u}Rf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Rf(e)}}function Rf(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||xa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&df(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}df(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&vs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ne||t.flags&512&&yl(t)}catch(d){ae(t,t.return,d)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function If(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Af(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xa(4,t)}catch(l){ae(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ae(t,s,l)}}var i=t.return;try{yl(t)}catch(l){ae(t,i,l)}break;case 5:var a=t.return;try{yl(t)}catch(l){ae(t,a,l)}}}catch(l){ae(t,t.return,l)}if(t===e){I=null;break}var o=t.sibling;if(o!==null){o.return=t.return,I=o;break}I=t.return}}var tw=Math.ceil,aa=Vt.ReactCurrentDispatcher,xu=Vt.ReactCurrentOwner,ot=Vt.ReactCurrentBatchConfig,W=0,Se=null,ce=null,xe=0,Qe=0,or=gn(0),me=0,As=null,Fn=0,ba=0,bu=0,us=null,ze=null,Pu=0,xr=1/0,Lt=null,oa=!1,_l=null,un=null,ci=!1,nn=null,la=0,cs=0,Sl=null,Mi=-1,Ti=0;function Le(){return W&6?le():Mi!==-1?Mi:Mi=le()}function cn(e){return e.mode&1?W&2&&xe!==0?xe&-xe:Dy.transition!==null?(Ti===0&&(Ti=np()),Ti):(e=V,e!==0||(e=window.event,e=e===void 0?16:up(e.type)),e):1}function vt(e,t,n,r){if(50<cs)throw cs=0,Sl=null,Error(C(185));$s(e,n,r),(!(W&2)||e!==Se)&&(e===Se&&(!(W&2)&&(ba|=n),me===4&&Zt(e,xe)),We(e,r),n===1&&W===0&&!(t.mode&1)&&(xr=le()+500,ka&&yn()))}function We(e,t){var n=e.callbackNode;Dg(e,t);var r=Hi(e,e===Se?xe:0);if(r===0)n!==null&&Dc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Dc(n),t===1)e.tag===0?$y(Nf.bind(null,e)):Rp(Nf.bind(null,e)),Ty(function(){!(W&6)&&yn()}),n=null;else{switch(rp(r)){case 1:n=Zl;break;case 4:n=ep;break;case 16:n=Vi;break;case 536870912:n=tp;break;default:n=Vi}n=bh(n,vh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vh(e,t){if(Mi=-1,Ti=0,W&6)throw Error(C(327));var n=e.callbackNode;if(hr()&&e.callbackNode!==n)return null;var r=Hi(e,e===Se?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ua(e,r);else{t=r;var s=W;W|=2;var i=Sh();(Se!==e||xe!==t)&&(Lt=null,xr=le()+500,Nn(e,t));do try{sw();break}catch(o){_h(e,o)}while(!0);du(),aa.current=i,W=s,ce!==null?t=0:(Se=null,xe=0,t=me)}if(t!==0){if(t===2&&(s=Qo(e),s!==0&&(r=s,t=kl(e,s))),t===1)throw n=As,Nn(e,0),Zt(e,r),We(e,le()),n;if(t===6)Zt(e,r);else{if(s=e.current.alternate,!(r&30)&&!nw(s)&&(t=ua(e,r),t===2&&(i=Qo(e),i!==0&&(r=i,t=kl(e,i))),t===1))throw n=As,Nn(e,0),Zt(e,r),We(e,le()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:Cn(e,ze,Lt);break;case 3:if(Zt(e,r),(r&130023424)===r&&(t=Pu+500-le(),10<t)){if(Hi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Le(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=nl(Cn.bind(null,e,ze,Lt),t);break}Cn(e,ze,Lt);break;case 4:if(Zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-wt(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tw(r/1960))-r,10<r){e.timeoutHandle=nl(Cn.bind(null,e,ze,Lt),r);break}Cn(e,ze,Lt);break;case 5:Cn(e,ze,Lt);break;default:throw Error(C(329))}}}return We(e,le()),e.callbackNode===n?vh.bind(null,e):null}function kl(e,t){var n=us;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=ua(e,t),e!==2&&(t=ze,ze=n,t!==null&&El(t)),e}function El(e){ze===null?ze=e:ze.push.apply(ze,e)}function nw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~bu,t&=~ba,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Nf(e){if(W&6)throw Error(C(327));hr();var t=Hi(e,0);if(!(t&1))return We(e,le()),null;var n=ua(e,t);if(e.tag!==0&&n===2){var r=Qo(e);r!==0&&(t=r,n=kl(e,r))}if(n===1)throw n=As,Nn(e,0),Zt(e,t),We(e,le()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,ze,Lt),We(e,le()),null}function Ru(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(xr=le()+500,ka&&yn())}}function $n(e){nn!==null&&nn.tag===0&&!(W&6)&&hr();var t=W;W|=1;var n=ot.transition,r=V;try{if(ot.transition=null,V=1,e)return e()}finally{V=r,ot.transition=n,W=t,!(W&6)&&yn()}}function Iu(){Qe=or.current,X(or)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,My(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(uu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xi();break;case 3:Er(),X(je),X(Me),wu();break;case 5:yu(r);break;case 4:Er();break;case 13:X(re);break;case 19:X(re);break;case 10:pu(r.type._context);break;case 22:case 23:Iu()}n=n.return}if(Se=e,ce=e=fn(e.current,null),xe=Qe=t,me=0,As=null,bu=ba=Fn=0,ze=us=null,Rn!==null){for(t=0;t<Rn.length;t++)if(n=Rn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Rn=null}return e}function _h(e,t){do{var n=ce;try{if(du(),Ii.current=ia,sa){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sa=!1}if(Ln=0,_e=he=se=null,os=!1,Ps=0,xu.current=null,n===null||n.return===null){me=1,As=t,ce=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=xe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=wf(a);if(g!==null){g.flags&=-257,vf(g,a,o,i,t),g.mode&1&&yf(i,u,t),t=g,l=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break e}else{if(!(t&1)){yf(i,u,t),Au();break e}l=Error(C(426))}}else if(Y&&o.mode&1){var x=wf(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),vf(x,a,o,i,t),cu(Cr(l,o));break e}}i=l=Cr(l,o),me!==4&&(me=2),us===null?us=[i]:us.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=rh(i,l,t);ff(i,m);break e;case 1:o=l;var c=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(un===null||!un.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=sh(i,o,t);ff(i,y);break e}}i=i.return}while(i!==null)}Eh(n)}catch(k){t=k,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function Sh(){var e=aa.current;return aa.current=ia,e===null?ia:e}function Au(){(me===0||me===3||me===2)&&(me=4),Se===null||!(Fn&268435455)&&!(ba&268435455)||Zt(Se,xe)}function ua(e,t){var n=W;W|=2;var r=Sh();(Se!==e||xe!==t)&&(Lt=null,Nn(e,t));do try{rw();break}catch(s){_h(e,s)}while(!0);if(du(),W=n,aa.current=r,ce!==null)throw Error(C(261));return Se=null,xe=0,me}function rw(){for(;ce!==null;)kh(ce)}function sw(){for(;ce!==null&&!Ig();)kh(ce)}function kh(e){var t=xh(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?Eh(e):ce=t,xu.current=null}function Eh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qy(n,t),n!==null){n.flags&=32767,ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,ce=null;return}}else if(n=Xy(n,t,Qe),n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);me===0&&(me=5)}function Cn(e,t,n){var r=V,s=ot.transition;try{ot.transition=null,V=1,iw(e,t,n,r)}finally{ot.transition=s,V=r}return null}function iw(e,t,n,r){do hr();while(nn!==null);if(W&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(zg(e,i),e===Se&&(ce=Se=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ci||(ci=!0,bh(Vi,function(){return hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var a=V;V=1;var o=W;W|=4,xu.current=null,Zy(e,n),yh(n,e),xy(el),Ji=!!Zo,el=Zo=null,e.current=n,ew(n),Ag(),W=o,V=a,ot.transition=i}else e.current=n;if(ci&&(ci=!1,nn=e,la=s),i=e.pendingLanes,i===0&&(un=null),Tg(n.stateNode),We(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(oa)throw oa=!1,e=_l,_l=null,e;return la&1&&e.tag!==0&&hr(),i=e.pendingLanes,i&1?e===Sl?cs++:(cs=0,Sl=e):cs=0,yn(),null}function hr(){if(nn!==null){var e=rp(la),t=ot.transition,n=V;try{if(ot.transition=null,V=16>e?16:e,nn===null)var r=!1;else{if(e=nn,nn=null,la=0,W&6)throw Error(C(331));var s=W;for(W|=4,I=e.current;I!==null;){var i=I,a=i.child;if(I.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(I=u;I!==null;){var h=I;switch(h.tag){case 0:case 11:case 15:ls(8,h,i)}var f=h.child;if(f!==null)f.return=h,I=f;else for(;I!==null;){h=I;var d=h.sibling,g=h.return;if(hh(h),h===u){I=null;break}if(d!==null){d.return=g,I=d;break}I=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}I=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,I=a;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ls(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,I=m;break e}I=i.return}}var c=e.current;for(I=c;I!==null;){a=I;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,I=p;else e:for(a=c;I!==null;){if(o=I,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:xa(9,o)}}catch(k){ae(o,o.return,k)}if(o===a){I=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,I=y;break e}I=o.return}}if(W=s,yn(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(ya,e)}catch{}r=!0}return r}finally{V=n,ot.transition=t}}return!1}function Mf(e,t,n){t=Cr(n,t),t=rh(e,t,1),e=ln(e,t,1),t=Le(),e!==null&&($s(e,1,t),We(e,t))}function ae(e,t,n){if(e.tag===3)Mf(e,e,n);else for(;t!==null;){if(t.tag===3){Mf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=Cr(n,e),e=sh(t,e,1),t=ln(t,e,1),e=Le(),t!==null&&($s(t,1,e),We(t,e));break}}t=t.return}}function aw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(xe&n)===n&&(me===4||me===3&&(xe&130023424)===xe&&500>le()-Pu?Nn(e,0):bu|=n),We(e,t)}function Ch(e,t){t===0&&(e.mode&1?(t=ei,ei<<=1,!(ei&130023424)&&(ei=4194304)):t=1);var n=Le();e=Ut(e,t),e!==null&&($s(e,t,n),We(e,n))}function ow(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ch(e,n)}function lw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),Ch(e,n)}var xh;xh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,Ky(e,t,n);Be=!!(e.flags&131072)}else Be=!1,Y&&t.flags&1048576&&Ip(t,Zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ni(e,t),e=t.pendingProps;var s=_r(t,Me.current);pr(t,n),s=_u(null,t,r,e,s,n);var i=Su();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(r)?(i=!0,qi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mu(t),s.updater=Ca,t.stateNode=s,s._reactInternals=t,ul(t,r,e,n),t=dl(null,t,r,!0,i,n)):(t.tag=0,Y&&i&&lu(t),Oe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ni(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=cw(r),e=pt(r,e),s){case 0:t=fl(null,t,r,e,n);break e;case 1:t=kf(null,t,r,e,n);break e;case 11:t=_f(null,t,r,e,n);break e;case 14:t=Sf(null,t,r,pt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),fl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),kf(e,t,r,s,n);case 3:e:{if(lh(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Lp(e,t),na(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Cr(Error(C(423)),t),t=Ef(e,t,r,n,s);break e}else if(r!==s){s=Cr(Error(C(424)),t),t=Ef(e,t,r,n,s);break e}else for(Xe=on(t.stateNode.containerInfo.firstChild),qe=t,Y=!0,gt=null,n=Tp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sr(),r===s){t=Wt(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Fp(t),e===null&&al(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,tl(r,s)?a=null:i!==null&&tl(r,i)&&(t.flags|=32),oh(e,t),Oe(e,t,a,n),t.child;case 6:return e===null&&al(t),null;case 13:return uh(e,t,n);case 4:return gu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=kr(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),_f(e,t,r,s,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,G(ea,r._currentValue),r._currentValue=a,i!==null)if(_t(i.value,a)){if(i.children===s.children&&!je.current){t=Wt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=zt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ol(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(C(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ol(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Oe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,pr(t,n),s=lt(s),r=r(s),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,s=pt(r,t.pendingProps),s=pt(r.type,s),Sf(e,t,r,s,n);case 15:return ih(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Ni(e,t),t.tag=1,Ue(r)?(e=!0,qi(t)):e=!1,pr(t,n),nh(t,r,s),ul(t,r,s,n),dl(null,t,r,!0,e,n);case 19:return ch(e,t,n);case 22:return ah(e,t,n)}throw Error(C(156,t.tag))};function bh(e,t){return Zd(e,t)}function uw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,r){return new uw(e,t,n,r)}function Nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cw(e){if(typeof e=="function")return Nu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xl)return 11;if(e===ql)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oi(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Nu(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case qn:return Mn(n.children,s,i,t);case Kl:a=8,s|=8;break;case To:return e=it(12,n,t,s|2),e.elementType=To,e.lanes=i,e;case Oo:return e=it(13,n,t,s),e.elementType=Oo,e.lanes=i,e;case Lo:return e=it(19,n,t,s),e.elementType=Lo,e.lanes=i,e;case Fd:return Pa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Od:a=10;break e;case Ld:a=9;break e;case Xl:a=11;break e;case ql:a=14;break e;case Xt:a=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=it(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Mn(e,t,n,r){return e=it(7,e,r,t),e.lanes=n,e}function Pa(e,t,n,r){return e=it(22,e,r,t),e.elementType=Fd,e.lanes=n,e.stateNode={isHidden:!1},e}function yo(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function wo(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qa(0),this.expirationTimes=qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mu(e,t,n,r,s,i,a,o,l){return e=new fw(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=it(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mu(i),e}function dw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ph(e){if(!e)return hn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Ue(n))return Pp(e,n,t)}return t}function Rh(e,t,n,r,s,i,a,o,l){return e=Mu(n,r,!0,e,s,i,a,o,l),e.context=Ph(null),n=e.current,r=Le(),s=cn(n),i=zt(r,s),i.callback=t??null,ln(n,i,s),e.current.lanes=s,$s(e,s,r),We(e,r),e}function Ra(e,t,n,r){var s=t.current,i=Le(),a=cn(s);return n=Ph(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(s,t,a),e!==null&&(vt(e,s,a,i),Ri(e,s,a)),a}function ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tu(e,t){Tf(e,t),(e=e.alternate)&&Tf(e,t)}function pw(){return null}var Ih=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ou(e){this._internalRoot=e}Ia.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Ra(e,t,null,null)};Ia.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){Ra(null,e,null,null)}),t[jt]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=ap();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&lp(e)}};function Lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Of(){}function hw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ca(a);i.call(u)}}var a=Rh(t,r,e,0,null,!1,!1,"",Of);return e._reactRootContainer=a,e[jt]=a.current,ks(e.nodeType===8?e.parentNode:e),$n(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=ca(l);o.call(u)}}var l=Mu(e,0,!1,null,null,!1,!1,"",Of);return e._reactRootContainer=l,e[jt]=l.current,ks(e.nodeType===8?e.parentNode:e),$n(function(){Ra(t,l,n,r)}),l}function Na(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=ca(a);o.call(l)}}Ra(t,a,e,s)}else a=hw(n,t,e,s,r);return ca(a)}sp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qr(t.pendingLanes);n!==0&&(eu(t,n|1),We(t,le()),!(W&6)&&(xr=le()+500,yn()))}break;case 13:$n(function(){var r=Ut(e,1);if(r!==null){var s=Le();vt(r,e,1,s)}}),Tu(e,1)}};tu=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var n=Le();vt(t,e,134217728,n)}Tu(e,134217728)}};ip=function(e){if(e.tag===13){var t=cn(e),n=Ut(e,t);if(n!==null){var r=Le();vt(n,e,t,r)}Tu(e,t)}};ap=function(){return V};op=function(e,t){var n=V;try{return V=e,t()}finally{V=n}};Ho=function(e,t,n){switch(t){case"input":if(Do(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Sa(r);if(!s)throw Error(C(90));Dd(r),Do(r,s)}}}break;case"textarea":Bd(e,n);break;case"select":t=n.value,t!=null&&ur(e,!!n.multiple,t,!1)}};Gd=Ru;Qd=$n;var mw={usingClientEntryPoint:!1,Events:[zs,tr,Sa,Hd,Jd,Ru]},Wr={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gw={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qd(e),e===null?null:e.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||pw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{ya=fi.inject(gw),It=fi}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mw;Ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lu(t))throw Error(C(200));return dw(e,t,null,n)};Ze.createRoot=function(e,t){if(!Lu(e))throw Error(C(299));var n=!1,r="",s=Ih;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Mu(e,1,!1,null,null,n,!1,r,s),e[jt]=t.current,ks(e.nodeType===8?e.parentNode:e),new Ou(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=qd(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return $n(e)};Ze.hydrate=function(e,t,n){if(!Aa(t))throw Error(C(200));return Na(null,e,t,!0,n)};Ze.hydrateRoot=function(e,t,n){if(!Lu(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Ih;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Rh(t,null,e,1,n??null,s,!1,i,a),e[jt]=t.current,ks(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ia(t)};Ze.render=function(e,t,n){if(!Aa(t))throw Error(C(200));return Na(null,e,t,!1,n)};Ze.unmountComponentAtNode=function(e){if(!Aa(e))throw Error(C(40));return e._reactRootContainer?($n(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};Ze.unstable_batchedUpdates=Ru;Ze.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Aa(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Na(e,t,n,!1,r)};Ze.version="18.3.1-next-f1338f8080-20240426";function Ah(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ah)}catch(e){console.error(e)}}Ah(),Ad.exports=Ze;var yw=Ad.exports,Lf=yw;No.createRoot=Lf.createRoot,No.hydrateRoot=Lf.hydrateRoot;const ww="modulepreload",vw=function(e){return"/"+e},Ff={},Cl=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=vw(l),l in Ff)return;Ff[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ww,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((d,g)=>{f.addEventListener("load",d),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},xl="RFC3986",bl={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},_w="RFC1738",Sw=Array.isArray,Et=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),vo=1024,kw=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=vo){const l=i.length>=vo?i.slice(o,o+vo):i,u=[];for(let h=0;h<l.length;++h){let f=l.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===_w&&(f===40||f===41)){u[u.length]=l.charAt(h);continue}if(f<128){u[u.length]=Et[f];continue}if(f<2048){u[u.length]=Et[192|f>>6]+Et[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=Et[224|f>>12]+Et[128|f>>6&63]+Et[128|f&63];continue}h+=1,f=65536+((f&1023)<<10|l.charCodeAt(h)&1023),u[u.length]=Et[240|f>>18]+Et[128|f>>12&63]+Et[128|f>>6&63]+Et[128|f&63]}a+=u.join("")}return a};function Ew(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function $f(e,t){if(Sw(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const Cw=Object.prototype.hasOwnProperty,Nh={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},xt=Array.isArray,xw=Array.prototype.push,Mh=function(e,t){xw.apply(e,xt(t)?t:[t])},bw=Date.prototype.toISOString,pe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:kw,encodeValuesOnly:!1,format:xl,formatter:bl[xl],indices:!1,serializeDate(e){return bw.call(e)},skipNulls:!1,strictNullHandling:!1};function Pw(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const _o={};function Th(e,t,n,r,s,i,a,o,l,u,h,f,d,g,w,v,x,m){let c=e,p=m,y=0,k=!1;for(;(p=p.get(_o))!==void 0&&!k;){const A=p.get(e);if(y+=1,typeof A<"u"){if(A===y)throw new RangeError("Cyclic object value");k=!0}typeof p.get(_o)>"u"&&(y=0)}if(typeof u=="function"?c=u(t,c):c instanceof Date?c=d==null?void 0:d(c):n==="comma"&&xt(c)&&(c=$f(c,function(A){return A instanceof Date?d==null?void 0:d(A):A})),c===null){if(i)return l&&!v?l(t,pe.encoder,x,"key",g):t;c=""}if(Pw(c)||Ew(c)){if(l){const A=v?t:l(t,pe.encoder,x,"key",g);return[(w==null?void 0:w(A))+"="+(w==null?void 0:w(l(c,pe.encoder,x,"value",g)))]}return[(w==null?void 0:w(t))+"="+(w==null?void 0:w(String(c)))]}const E=[];if(typeof c>"u")return E;let S;if(n==="comma"&&xt(c))v&&l&&(c=$f(c,l)),S=[{value:c.length>0?c.join(",")||null:void 0}];else if(xt(u))S=u;else{const A=Object.keys(c);S=h?A.sort(h):A}const b=o?String(t).replace(/\./g,"%2E"):String(t),M=r&&xt(c)&&c.length===1?b+"[]":b;if(s&&xt(c)&&c.length===0)return M+"[]";for(let A=0;A<S.length;++A){const L=S[A],ye=typeof L=="object"&&typeof L.value<"u"?L.value:c[L];if(a&&ye===null)continue;const tt=f&&o?L.replace(/\./g,"%2E"):L,Ht=xt(c)?typeof n=="function"?n(M,tt):M:M+(f?"."+tt:"["+tt+"]");m.set(e,y);const nt=new WeakMap;nt.set(_o,m),Mh(E,Th(ye,Ht,n,r,s,i,a,o,n==="comma"&&v&&xt(c)?null:l,u,h,f,d,g,w,v,x,nt))}return E}function Rw(e=pe){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||pe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=xl;if(typeof e.format<"u"){if(!Cw.call(bl,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=bl[n];let s=pe.filter;(typeof e.filter=="function"||xt(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in Nh?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=pe.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:pe.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:pe.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:pe.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:pe.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?pe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:pe.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:pe.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:pe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:pe.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:pe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:pe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:pe.strictNullHandling}}function Iw(e,t={}){let n=e;const r=Rw(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):xt(r.filter)&&(i=r.filter,s=i);const a=[];if(typeof n!="object"||n===null)return"";const o=Nh[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let d=0;d<s.length;++d){const g=s[d];r.skipNulls&&n[g]===null||Mh(a,Th(n[g],g,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const h=a.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),h.length>0?f+h:""}const Qn="4.103.0";let Df=!1,fs,Oh,Lh,Pl,Fh,$h,Dh,zh,Bh;function Aw(e,t={auto:!1}){if(Df)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(fs)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${fs}'\``);Df=t.auto,fs=e.kind,Oh=e.fetch,Lh=e.FormData,Pl=e.File,Fh=e.ReadableStream,$h=e.getMultipartRequestOptions,Dh=e.getDefaultAgent,zh=e.fileFromPath,Bh=e.isFsReadStream}class Nw{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function Mw({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new Nw(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}const jh=()=>{fs||Aw(Mw(),{auto:!0})};jh();class T extends Error{}class Pe extends T{constructor(t,n,r,s){super(`${Pe.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new Ma({message:r,cause:Il(n)});const i=n==null?void 0:n.error;return t===400?new Uh(t,i,r,s):t===401?new Wh(t,i,r,s):t===403?new Vh(t,i,r,s):t===404?new Hh(t,i,r,s):t===409?new Jh(t,i,r,s):t===422?new Gh(t,i,r,s):t===429?new Qh(t,i,r,s):t>=500?new Kh(t,i,r,s):new Pe(t,i,r,s)}}class at extends Pe{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ma extends Pe{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Fu extends Ma{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Uh extends Pe{}class Wh extends Pe{}class Vh extends Pe{}class Hh extends Pe{}class Jh extends Pe{}class Gh extends Pe{}class Qh extends Pe{}class Kh extends Pe{}class Xh extends T{constructor(){super("Could not parse response content as the length limit was reached")}}class qh extends T{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var di=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Sn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Je;class Ta{constructor(){Je.set(this,void 0),this.buffer=new Uint8Array,di(this,Je,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const s=[];let i;for(;(i=Tw(this.buffer,Sn(this,Je,"f")))!=null;){if(i.carriage&&Sn(this,Je,"f")==null){di(this,Je,i.index,"f");continue}if(Sn(this,Je,"f")!=null&&(i.index!==Sn(this,Je,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,Sn(this,Je,"f")-1))),this.buffer=this.buffer.slice(Sn(this,Je,"f")),di(this,Je,null,"f");continue}const a=Sn(this,Je,"f")!==null?i.preceding-1:i.preceding,o=this.decodeText(this.buffer.slice(0,a));s.push(o),this.buffer=this.buffer.slice(i.index),di(this,Je,null,"f")}return s}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new T(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new T(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new T("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Je=new WeakMap;Ta.NEWLINE_CHARS=new Set([`
`,"\r"]);Ta.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Tw(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function Ow(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function Yh(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Rt{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const a of Lw(t,n))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null||a.event.startsWith("response.")||a.event.startsWith("transcript.")){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new Pe(void 0,o.error,void 0,im(t.headers));yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new Pe(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||n.abort()}}return new Rt(s,n)}static fromReadableStream(t,n){let r=!1;async function*s(){const a=new Ta,o=Yh(t);for await(const l of o)for(const u of a.decode(l))yield u;for(const l of a.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of s())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Rt(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();t.push(a),n.push(a)}return i.shift()}});return[new Rt(()=>s(t),this.controller),new Rt(()=>s(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new Fh({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:a}=await n.next();if(a)return s.close();const o=r.encode(JSON.stringify(i)+`
`);s.enqueue(o)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*Lw(e,t){if(!e.body)throw t.abort(),new T("Attempted to iterate over a response with no body");const n=new $w,r=new Ta,s=Yh(e.body);for await(const i of Fw(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*Fw(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=Ow(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class $w{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=Dw(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function Dw(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const Zh=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",em=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Oa(e),Oa=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",zw=e=>em(e)||Zh(e)||Bh(e);async function tm(e,t,n){var s;if(e=await e,em(e))return e;if(Zh(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=Oa(i)?[await i.arrayBuffer()]:[i];return new Pl(a,t,n)}const r=await Bw(e);if(t||(t=Uw(e)??"unknown_file"),!(n!=null&&n.type)){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new Pl(r,t,n)}async function Bw(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Oa(e))t.push(await e.arrayBuffer());else if(Ww(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${jw(e)}`);return t}function jw(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function Uw(e){var t;return So(e.name)||So(e.filename)||((t=So(e.path))==null?void 0:t.split(/[\\/]/).pop())}const So=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},Ww=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",zf=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Dn=async e=>{const t=await Vw(e.body);return $h(t,e)},Vw=async e=>{const t=new Lh;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Rl(t,n,r))),t},Rl=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(zw(n)){const r=await tm(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Rl(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Rl(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var mr={},Hw=function(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},Jw=function(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},pi;jh();async function nm(e){var a;const{response:t}=e;if(e.options.stream)return dn("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Rt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),r=(a=n==null?void 0:n.split(";")[0])==null?void 0:a.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await t.json();return dn("response",t.status,t.url,t.headers,o),rm(o,t)}const i=await t.text();return dn("response",t.status,t.url,t.headers,i),i}function rm(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class La extends Promise{constructor(t,n=nm){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new La(this.responsePromise,async n=>rm(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class Gw{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=t,this.maxRetries=ko("maxRetries",n),this.timeout=ko("timeout",r),this.httpAgent=s,this.fetch=i??Oh}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Yw(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${nv()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&Oa(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:t,path:n,...s,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var v;const r={...t},{method:s,path:i,query:a,headers:o={}}=r,l=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:zf(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,u=this.calculateContentLength(l),h=this.buildURL(i,a);"timeout"in r&&ko("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const f=r.httpAgent??this.httpAgent??Dh(h),d=r.timeout+1e3;typeof((v=f==null?void 0:f.options)==null?void 0:v.timeout)=="number"&&d>(f.options.timeout??0)&&(f.options.timeout=d),this.idempotencyHeader&&s!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const g=this.buildHeaders({options:r,headers:o,contentLength:u,retryCount:n});return{req:{method:s,...l&&{body:l},headers:g,...f&&{agent:f},signal:r.signal??null},url:h,timeout:r.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:s}){const i={};r&&(i["content-length"]=r);const a=this.defaultHeaders(t);return Wf(i,a),Wf(i,n),zf(t.body)&&fs!=="node"&&delete i["content-type"],mi(a,"x-stainless-retry-count")===void 0&&mi(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),mi(a,"x-stainless-timeout")===void 0&&mi(n,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,s){return Pe.generate(t,n,r,s)}request(t,n=null){return new La(this.makeRequest(t,n))}async makeRequest(t,n){var f,d;const r=await t,s=r.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(r);const{req:i,url:a,timeout:o}=this.buildRequest(r,{retryCount:s-n});if(await this.prepareRequest(i,{url:a,options:r}),dn("request",a,r,i.headers),(f=r.signal)!=null&&f.aborted)throw new at;const l=new AbortController,u=await this.fetchWithTimeout(a,i,o,l).catch(Il);if(u instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new at;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new Fu:new Ma({cause:u})}const h=im(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const c=`retrying, ${n} attempts remaining`;return dn(`response (error; ${c})`,u.status,a,h),this.retryRequest(r,n,h)}const g=await u.text().catch(c=>Il(c).message),w=Zw(g),v=w?void 0:g;throw dn(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,a,h,v),this.makeStatusError(u.status,w,v,h)}return{response:u,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new Qw(this,r,t)}buildURL(t,n){const r=tv(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return am(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new T(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,s){const{signal:i,...a}=n||{};i&&i.addEventListener("abort",()=>s.abort());const o=setTimeout(()=>s.abort(),r),l={signal:s.signal,...a};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(o)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const o=parseFloat(i);Number.isNaN(o)||(s=o)}const a=r==null?void 0:r["retry-after"];if(a&&!s){const o=parseFloat(a);Number.isNaN(o)?s=Date.parse(a)-Date.now():s=o*1e3}if(!(s&&0<=s&&s<60*1e3)){const o=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,o)}return await js(s),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Qn}`}}class sm{constructor(t,n,r,s){pi.set(this,void 0),Hw(this,pi,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new T("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[s,i]of r)t.url.searchParams.set(s,i);n.query=void 0,n.path=t.url.toString()}return await Jw(this,pi,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(pi=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class Qw extends La{constructor(t,n,r){super(n,async s=>new r(t,s.response,await nm(s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const im=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),Kw={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Z=e=>typeof e=="object"&&e!==null&&!am(e)&&Object.keys(e).every(t=>om(Kw,t)),Xw=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qn,"X-Stainless-OS":jf(Deno.build.os),"X-Stainless-Arch":Bf(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qn,"X-Stainless-OS":jf(process.platform),"X-Stainless-Arch":Bf(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=qw();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function qw(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:t,version:`${s}.${i}.${a}`}}}return null}const Bf=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",jf=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Uf;const Yw=()=>Uf??(Uf=Xw()),Zw=e=>{try{return JSON.parse(e)}catch{return}},ev=/^[a-z][a-z0-9+.-]*:/i,tv=e=>ev.test(e),js=e=>new Promise(t=>setTimeout(t,e)),ko=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new T(`${e} must be an integer`);if(t<0)throw new T(`${e} must be a positive integer`);return t},Il=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},hi=e=>{var t,n,r,s;if(typeof process<"u")return((t=mr==null?void 0:mr[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};function am(e){if(!e)return!0;for(const t in e)return!1;return!0}function om(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wf(e,t){for(const n in t){if(!om(t,n))continue;const r=n.toLowerCase();if(!r)continue;const s=t[n];s===null?delete e[r]:s!==void 0&&(e[r]=s)}}const Vf=new Set(["authorization","api-key"]);function dn(e,...t){if(typeof process<"u"&&(mr==null?void 0:mr.DEBUG)==="true"){const n=t.map(r=>{if(!r)return r;if(r.headers){const i={...r,headers:{...r.headers}};for(const a in r.headers)Vf.has(a.toLowerCase())&&(i.headers[a]="REDACTED");return i}let s=null;for(const i in r)Vf.has(i.toLowerCase())&&(s??(s={...r}),s[i]="REDACTED");return s??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}const nv=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),rv=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",sv=e=>typeof(e==null?void 0:e.get)=="function",mi=(e,t)=>{var r;const n=t.toLowerCase();if(sv(e)){const s=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,a,o)=>a+o.toUpperCase());for(const i of[t,n,t.toUpperCase(),s]){const a=e.get(i);if(a)return a}}for(const[s,i]of Object.entries(e))if(s.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i},iv=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};function Eo(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Fa extends sm{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class ge extends sm{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class O{constructor(t){this._client=t}}let lm=class extends O{list(t,n={},r){return Z(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,av,{query:n,...r})}},$a=class extends O{constructor(){super(...arguments),this.messages=new lm(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return Z(t)?this.list({},t):this._client.getAPIList("/chat/completions",Da,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Da extends ge{}class av extends ge{}$a.ChatCompletionsPage=Da;$a.Messages=lm;let za=class extends O{constructor(){super(...arguments),this.completions=new $a(this._client)}};za.Completions=$a;za.ChatCompletionsPage=Da;class um extends O{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class cm extends O{create(t,n){return this._client.post("/audio/transcriptions",Dn({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class fm extends O{create(t,n){return this._client.post("/audio/translations",Dn({body:t,...n,__metadata:{model:t.model}}))}}class Us extends O{constructor(){super(...arguments),this.transcriptions=new cm(this._client),this.translations=new fm(this._client),this.speech=new um(this._client)}}Us.Transcriptions=cm;Us.Translations=fm;Us.Speech=um;class $u extends O{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return Z(t)?this.list({},t):this._client.getAPIList("/batches",Du,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class Du extends ge{}$u.BatchesPage=Du;var dt=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ne=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Al,Li,Fi,Xr,qr,$i,Yr,Ot,Zr,fa,da,Kn,dm;class zu{constructor(){Al.add(this),this.controller=new AbortController,Li.set(this,void 0),Fi.set(this,()=>{}),Xr.set(this,()=>{}),qr.set(this,void 0),$i.set(this,()=>{}),Yr.set(this,()=>{}),Ot.set(this,{}),Zr.set(this,!1),fa.set(this,!1),da.set(this,!1),Kn.set(this,!1),dt(this,Li,new Promise((t,n)=>{dt(this,Fi,t,"f"),dt(this,Xr,n,"f")}),"f"),dt(this,qr,new Promise((t,n)=>{dt(this,$i,t,"f"),dt(this,Yr,n,"f")}),"f"),ne(this,Li,"f").catch(()=>{}),ne(this,qr,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},ne(this,Al,"m",dm).bind(this))},0)}_connected(){this.ended||(ne(this,Fi,"f").call(this),this._emit("connect"))}get ended(){return ne(this,Zr,"f")}get errored(){return ne(this,fa,"f")}get aborted(){return ne(this,da,"f")}abort(){this.controller.abort()}on(t,n){return(ne(this,Ot,"f")[t]||(ne(this,Ot,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=ne(this,Ot,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(ne(this,Ot,"f")[t]||(ne(this,Ot,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{dt(this,Kn,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){dt(this,Kn,!0,"f"),await ne(this,qr,"f")}_emit(t,...n){if(ne(this,Zr,"f"))return;t==="end"&&(dt(this,Zr,!0,"f"),ne(this,$i,"f").call(this));const r=ne(this,Ot,"f")[t];if(r&&(ne(this,Ot,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!ne(this,Kn,"f")&&!(r!=null&&r.length)&&Promise.reject(s),ne(this,Xr,"f").call(this,s),ne(this,Yr,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!ne(this,Kn,"f")&&!(r!=null&&r.length)&&Promise.reject(s),ne(this,Xr,"f").call(this,s),ne(this,Yr,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Li=new WeakMap,Fi=new WeakMap,Xr=new WeakMap,qr=new WeakMap,$i=new WeakMap,Yr=new WeakMap,Ot=new WeakMap,Zr=new WeakMap,fa=new WeakMap,da=new WeakMap,Kn=new WeakMap,Al=new WeakSet,dm=function(t){if(dt(this,fa,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new at),t instanceof at)return dt(this,da,!0,"f"),this._emit("abort",t);if(t instanceof T)return this._emit("error",t);if(t instanceof Error){const n=new T(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new T(String(t)))};var N=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},He=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Ce,Nl,bt,Di,ht,An,lr,xn,pa,Ge,zi,Bi,ds,es,ts,Hf,Jf,Gf,Qf,Kf,Xf,qf;class yt extends zu{constructor(){super(...arguments),Ce.add(this),Nl.set(this,[]),bt.set(this,{}),Di.set(this,{}),ht.set(this,void 0),An.set(this,void 0),lr.set(this,void 0),xn.set(this,void 0),pa.set(this,void 0),Ge.set(this,void 0),zi.set(this,void 0),Bi.set(this,void 0),ds.set(this,void 0)}[(Nl=new WeakMap,bt=new WeakMap,Di=new WeakMap,ht=new WeakMap,An=new WeakMap,lr=new WeakMap,xn=new WeakMap,pa=new WeakMap,Ge=new WeakMap,zi=new WeakMap,Bi=new WeakMap,ds=new WeakMap,Ce=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new yt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Rt.fromReadableStream(t,this.controller);for await(const a of s)N(this,Ce,"m",es).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new at;return this._addRun(N(this,Ce,"m",ts).call(this))}toReadableStream(){return new Rt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s,i){const a=new yt;return a._run(()=>a._runToolAssistantStream(t,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(t,n,r,s,i){var u;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},l=await t.submitToolOutputs(n,r,o,{...i,signal:this.controller.signal});this._connected();for await(const h of l)N(this,Ce,"m",es).call(this,h);if((u=l.controller.signal)!=null&&u.aborted)throw new at;return this._addRun(N(this,Ce,"m",ts).call(this))}static createThreadAssistantStream(t,n,r){const s=new yt;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new yt;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return N(this,zi,"f")}currentRun(){return N(this,Bi,"f")}currentMessageSnapshot(){return N(this,ht,"f")}currentRunStepSnapshot(){return N(this,ds,"f")}async finalRunSteps(){return await this.done(),Object.values(N(this,bt,"f"))}async finalMessages(){return await this.done(),Object.values(N(this,Di,"f"))}async finalRun(){if(await this.done(),!N(this,An,"f"))throw Error("Final run was not received.");return N(this,An,"f")}async _createThreadAssistantStream(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of a)N(this,Ce,"m",es).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new at;return this._addRun(N(this,Ce,"m",ts).call(this))}async _createAssistantStream(t,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.create(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)N(this,Ce,"m",es).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new at;return this._addRun(N(this,Ce,"m",ts).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Eo(i)&&Eo(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!Eo(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s,i){return await this._createToolAssistantStream(r,t,n,s,i)}}es=function(t){if(!this.ended)switch(He(this,zi,t,"f"),N(this,Ce,"m",Gf).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":N(this,Ce,"m",qf).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":N(this,Ce,"m",Jf).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":N(this,Ce,"m",Hf).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ts=function(){if(this.ended)throw new T("stream has ended, this shouldn't happen");if(!N(this,An,"f"))throw Error("Final run has not been received");return N(this,An,"f")},Hf=function(t){const[n,r]=N(this,Ce,"m",Kf).call(this,t,N(this,ht,"f"));He(this,ht,n,"f"),N(this,Di,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=n.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=N(this,lr,"f")){if(N(this,xn,"f"))switch(N(this,xn,"f").type){case"text":this._emit("textDone",N(this,xn,"f").text,N(this,ht,"f"));break;case"image_file":this._emit("imageFileDone",N(this,xn,"f").image_file,N(this,ht,"f"));break}He(this,lr,s.index,"f")}He(this,xn,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(N(this,lr,"f")!==void 0){const s=t.data.content[N(this,lr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,N(this,ht,"f"));break;case"text":this._emit("textDone",s.text,N(this,ht,"f"));break}}N(this,ht,"f")&&this._emit("messageDone",t.data),He(this,ht,void 0,"f")}},Jf=function(t){const n=N(this,Ce,"m",Qf).call(this,t);switch(He(this,ds,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==N(this,pa,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(N(this,Ge,"f")&&this._emit("toolCallDone",N(this,Ge,"f")),He(this,pa,i.index,"f"),He(this,Ge,n.step_details.tool_calls[i.index],"f"),N(this,Ge,"f")&&this._emit("toolCallCreated",N(this,Ge,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":He(this,ds,void 0,"f"),t.data.step_details.type=="tool_calls"&&N(this,Ge,"f")&&(this._emit("toolCallDone",N(this,Ge,"f")),He(this,Ge,void 0,"f")),this._emit("runStepDone",t.data,n);break}},Gf=function(t){N(this,Nl,"f").push(t),this._emit("event",t)},Qf=function(t){switch(t.event){case"thread.run.step.created":return N(this,bt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=N(this,bt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=yt.accumulateDelta(n,r.delta);N(this,bt,"f")[t.data.id]=s}return N(this,bt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":N(this,bt,"f")[t.data.id]=t.data;break}if(N(this,bt,"f")[t.data.id])return N(this,bt,"f")[t.data.id];throw new Error("No snapshot available")},Kf=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=N(this,Ce,"m",Xf).call(this,i,a)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Xf=function(t,n){return yt.accumulateDelta(n,t)},qf=function(t){switch(He(this,Bi,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":He(this,An,t.data,"f"),N(this,Ge,"f")&&(this._emit("toolCallDone",N(this,Ge,"f")),He(this,Ge,void 0,"f"));break}};class Bu extends O{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Z(t)?this.list({},t):this._client.getAPIList("/assistants",ju,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class ju extends ge{}Bu.AssistantsPage=ju;function Yf(e){return typeof e.parse=="function"}const gr=e=>(e==null?void 0:e.role)==="assistant",pm=e=>(e==null?void 0:e.role)==="function",hm=e=>(e==null?void 0:e.role)==="tool";function Uu(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Ws(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function ov(e,t){return!t||!mm(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Wu(e,t)}function Wu(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new Xh;if(r.finish_reason==="content_filter")throw new qh;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>uv(t,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?lv(t,r.message.content):null}}});return{...e,choices:n}}function lv(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function uv(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Ws(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function cv(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===t.function.name});return Ws(n)||(n==null?void 0:n.function.strict)||!1}function mm(e){var t;return Uu(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Ws(n)||n.type==="function"&&n.function.strict===!0))??!1}function fv(e){for(const t of e??[]){if(t.type!=="function")throw new T(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new T(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var De=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ae,Ml,ha,Tl,Ol,Ll,gm,Fl;const Zf=10;class ym extends zu{constructor(){super(...arguments),Ae.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(pm(t)||hm(t))&&t.content)this._emit("functionCallResult",t.content);else if(gr(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(gr(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new T("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),De(this,Ae,"m",Ml).call(this)}async finalMessage(){return await this.done(),De(this,Ae,"m",ha).call(this)}async finalFunctionCall(){return await this.done(),De(this,Ae,"m",Tl).call(this)}async finalFunctionCallResult(){return await this.done(),De(this,Ae,"m",Ol).call(this)}async totalUsage(){return await this.done(),De(this,Ae,"m",Ll).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=De(this,Ae,"m",ha).call(this);n&&this._emit("finalMessage",n);const r=De(this,Ae,"m",Ml).call(this);r&&this._emit("finalContent",r);const s=De(this,Ae,"m",Tl).call(this);s&&this._emit("finalFunctionCall",s);const i=De(this,Ae,"m",Ol).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",De(this,Ae,"m",Ll).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),De(this,Ae,"m",gm).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Wu(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var d;const s="function",{function_call:i="auto",stream:a,...o}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=Zf}=r||{},h={};for(const g of n.functions)h[g.name||g.function.name]=g;const f=n.functions.map(g=>({name:g.name||g.function.name,parameters:g.parameters,description:g.description}));for(const g of n.messages)this._addMessage(g,!1);for(let g=0;g<u;++g){const v=(d=(await this._createChatCompletion(t,{...o,function_call:i,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:d.message;if(!v)throw new T("missing message in ChatCompletion response");if(!v.function_call)return;const{name:x,arguments:m}=v.function_call,c=h[x];if(c){if(l&&l!==x){const E=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:x,content:E});continue}}else{const E=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${f.map(S=>JSON.stringify(S.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:x,content:E});continue}let p;try{p=Yf(c)?await c.parse(m):m}catch(E){this._addMessage({role:s,name:x,content:E instanceof Error?E.message:String(E)});continue}const y=await c.function(p,this),k=De(this,Ae,"m",Fl).call(this,y);if(this._addMessage({role:s,name:x,content:k}),l)return}}async _runTools(t,n,r){var g,w,v;const s="tool",{tool_choice:i="auto",stream:a,...o}=n,l=typeof i!="string"&&((g=i==null?void 0:i.function)==null?void 0:g.name),{maxChatCompletions:u=Zf}=r||{},h=n.tools.map(x=>{if(Ws(x)){if(!x.$callback)throw new T("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),f={};for(const x of h)x.type==="function"&&(f[x.function.name||x.function.function.name]=x.function);const d="tools"in n?h.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of n.messages)this._addMessage(x,!1);for(let x=0;x<u;++x){const c=(w=(await this._createChatCompletion(t,{...o,tool_choice:i,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:w.message;if(!c)throw new T("missing message in ChatCompletion response");if(!((v=c.tool_calls)!=null&&v.length))return;for(const p of c.tool_calls){if(p.type!=="function")continue;const y=p.id,{name:k,arguments:E}=p.function,S=f[k];if(S){if(l&&l!==k){const L=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:y,content:L});continue}}else{const L=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(f).map(ye=>JSON.stringify(ye)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:y,content:L});continue}let b;try{b=Yf(S)?await S.parse(E):E}catch(L){const ye=L instanceof Error?L.message:String(L);this._addMessage({role:s,tool_call_id:y,content:ye});continue}const M=await S.function(b,this),A=De(this,Ae,"m",Fl).call(this,M);if(this._addMessage({role:s,tool_call_id:y,content:A}),l)return}}}}Ae=new WeakSet,Ml=function(){return De(this,Ae,"m",ha).call(this).content??null},ha=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(gr(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new T("stream ended without producing a ChatCompletionMessage with role=assistant")},Tl=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(gr(s)&&(s!=null&&s.function_call))return s.function_call;if(gr(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Ol=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(pm(n)&&n.content!=null||hm(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Ll=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},gm=function(t){if(t.n!=null&&t.n>1)throw new T("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Fl=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Ns extends ym{static runFunctions(t,n,r){const s=new Ns,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new Ns,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),gr(t)&&t.content&&this._emit("content",t.content)}}const wm=1,vm=2,_m=4,Sm=8,km=16,Em=32,Cm=64,xm=128,bm=256,Pm=xm|bm,Rm=km|Em|Pm|Cm,Im=wm|vm|Rm,Am=_m|Sm,dv=Im|Am,ve={STR:wm,NUM:vm,ARR:_m,OBJ:Sm,NULL:km,BOOL:Em,NAN:Cm,INFINITY:xm,MINUS_INFINITY:bm,INF:Pm,SPECIAL:Rm,ATOM:Im,COLLECTION:Am,ALL:dv};class pv extends Error{}class hv extends Error{}function mv(e,t=ve.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return gv(e.trim(),t)}const gv=(e,t)=>{const n=e.length;let r=0;const s=d=>{throw new pv(`${d} at position ${r}`)},i=d=>{throw new hv(`${d} at position ${r}`)},a=()=>(f(),r>=n&&s("Unexpected end of input"),e[r]==='"'?o():e[r]==="{"?l():e[r]==="["?u():e.substring(r,r+4)==="null"||ve.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||ve.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||ve.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||ve.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||ve.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||ve.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):h()),o=()=>{const d=r;let g=!1;for(r++;r<n&&(e[r]!=='"'||g&&e[r-1]==="\\");)g=e[r]==="\\"?!g:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(d,++r-Number(g)))}catch(w){i(String(w))}else if(ve.STR&t)try{return JSON.parse(e.substring(d,r-Number(g))+'"')}catch{return JSON.parse(e.substring(d,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,f();const d={};try{for(;e[r]!=="}";){if(f(),r>=n&&ve.OBJ&t)return d;const g=o();f(),r++;try{const w=a();Object.defineProperty(d,g,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(ve.OBJ&t)return d;throw w}f(),e[r]===","&&r++}}catch{if(ve.OBJ&t)return d;s("Expected '}' at end of object")}return r++,d},u=()=>{r++;const d=[];try{for(;e[r]!=="]";)d.push(a()),f(),e[r]===","&&r++}catch{if(ve.ARR&t)return d;s("Expected ']' at end of array")}return r++,d},h=()=>{if(r===0){e==="-"&&ve.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(g){if(ve.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(g))}}const d=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(ve.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(d,r))}catch{e.substring(d,r)==="-"&&ve.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(d,e.lastIndexOf("e")))}catch(w){i(String(w))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return a()},ed=e=>mv(e,ve.ALL^ve.NUM);var Vn=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},H=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},de,Tt,Hn,Gt,Co,gi,xo,bo,Po,yi,Ro,td;class Ms extends ym{constructor(t){super(),de.add(this),Tt.set(this,void 0),Hn.set(this,void 0),Gt.set(this,void 0),Vn(this,Tt,t,"f"),Vn(this,Hn,[],"f")}get currentChatCompletionSnapshot(){return H(this,Gt,"f")}static fromReadableStream(t){const n=new Ms(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new Ms(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var a;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),H(this,de,"m",Co).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of i)H(this,de,"m",xo).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new at;return this._addChatCompletion(H(this,de,"m",yi).call(this))}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),H(this,de,"m",Co).call(this),this._connected();const s=Rt.fromReadableStream(t,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(H(this,de,"m",yi).call(this)),H(this,de,"m",xo).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new at;return this._addChatCompletion(H(this,de,"m",yi).call(this))}[(Tt=new WeakMap,Hn=new WeakMap,Gt=new WeakMap,de=new WeakSet,Co=function(){this.ended||Vn(this,Gt,void 0,"f")},gi=function(n){let r=H(this,Hn,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},H(this,Hn,"f")[n.index]=r,r)},xo=function(n){var s,i,a,o,l,u,h,f,d,g,w,v,x,m,c;if(this.ended)return;const r=H(this,de,"m",td).call(this,n);this._emit("chunk",n,r);for(const p of n.choices){const y=r.choices[p.index];p.delta.content!=null&&((s=y.message)==null?void 0:s.role)==="assistant"&&((i=y.message)!=null&&i.content)&&(this._emit("content",p.delta.content,y.message.content),this._emit("content.delta",{delta:p.delta.content,snapshot:y.message.content,parsed:y.message.parsed})),p.delta.refusal!=null&&((a=y.message)==null?void 0:a.role)==="assistant"&&((o=y.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:p.delta.refusal,snapshot:y.message.refusal}),((l=p.logprobs)==null?void 0:l.content)!=null&&((u=y.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=p.logprobs)==null?void 0:h.content,snapshot:((f=y.logprobs)==null?void 0:f.content)??[]}),((d=p.logprobs)==null?void 0:d.refusal)!=null&&((g=y.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(w=p.logprobs)==null?void 0:w.refusal,snapshot:((v=y.logprobs)==null?void 0:v.refusal)??[]});const k=H(this,de,"m",gi).call(this,y);y.finish_reason&&(H(this,de,"m",Po).call(this,y),k.current_tool_call_index!=null&&H(this,de,"m",bo).call(this,y,k.current_tool_call_index));for(const E of p.delta.tool_calls??[])k.current_tool_call_index!==E.index&&(H(this,de,"m",Po).call(this,y),k.current_tool_call_index!=null&&H(this,de,"m",bo).call(this,y,k.current_tool_call_index)),k.current_tool_call_index=E.index;for(const E of p.delta.tool_calls??[]){const S=(x=y.message.tool_calls)==null?void 0:x[E.index];S!=null&&S.type&&((S==null?void 0:S.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=S.function)==null?void 0:m.name,index:E.index,arguments:S.function.arguments,parsed_arguments:S.function.parsed_arguments,arguments_delta:((c=E.function)==null?void 0:c.arguments)??""}):(S==null||S.type,void 0))}}},bo=function(n,r){var a,o,l;if(H(this,de,"m",gi).call(this,n).done_tool_calls.has(r))return;const i=(a=n.message.tool_calls)==null?void 0:a[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(o=H(this,Tt,"f"))==null?void 0:o.tools)==null?void 0:l.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:Ws(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Po=function(n){var s,i;const r=H(this,de,"m",gi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=H(this,de,"m",Ro).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},yi=function(){if(this.ended)throw new T("stream has ended, this shouldn't happen");const n=H(this,Gt,"f");if(!n)throw new T("request ended without sending any chunks");return Vn(this,Gt,void 0,"f"),Vn(this,Hn,[],"f"),yv(n,H(this,Tt,"f"))},Ro=function(){var r;const n=(r=H(this,Tt,"f"))==null?void 0:r.response_format;return Uu(n)?n:null},td=function(n){var r,s,i,a;let o=H(this,Gt,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=Vn(this,Gt,{...u,choices:[]},"f");for(const{delta:h,finish_reason:f,index:d,logprobs:g=null,...w}of n.choices){let v=o.choices[d];if(v||(v=o.choices[d]={finish_reason:f,index:d,message:{},logprobs:g,...w}),g)if(!v.logprobs)v.logprobs=Object.assign({},g);else{const{content:E,refusal:S,...b}=g;Object.assign(v.logprobs,b),E&&((r=v.logprobs).content??(r.content=[]),v.logprobs.content.push(...E)),S&&((s=v.logprobs).refusal??(s.refusal=[]),v.logprobs.refusal.push(...S))}if(f&&(v.finish_reason=f,H(this,Tt,"f")&&mm(H(this,Tt,"f")))){if(f==="length")throw new Xh;if(f==="content_filter")throw new qh}if(Object.assign(v,w),!h)continue;const{content:x,refusal:m,function_call:c,role:p,tool_calls:y,...k}=h;if(Object.assign(v.message,k),m&&(v.message.refusal=(v.message.refusal||"")+m),p&&(v.message.role=p),c&&(v.message.function_call?(c.name&&(v.message.function_call.name=c.name),c.arguments&&((i=v.message.function_call).arguments??(i.arguments=""),v.message.function_call.arguments+=c.arguments)):v.message.function_call=c),x&&(v.message.content=(v.message.content||"")+x,!v.message.refusal&&H(this,de,"m",Ro).call(this)&&(v.message.parsed=ed(v.message.content))),y){v.message.tool_calls||(v.message.tool_calls=[]);for(const{index:E,id:S,type:b,function:M,...A}of y){const L=(a=v.message.tool_calls)[E]??(a[E]={});Object.assign(L,A),S&&(L.id=S),b&&(L.type=b),M&&(L.function??(L.function={name:M.name??"",arguments:""})),M!=null&&M.name&&(L.function.name=M.name),M!=null&&M.arguments&&(L.function.arguments+=M.arguments,cv(H(this,Tt,"f"),L)&&(L.function.parsed_arguments=ed(L.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Rt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function yv(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...o}=e,l={...o,id:n,choices:r.map(({message:u,finish_reason:h,index:f,logprobs:d,...g})=>{if(!h)throw new T(`missing finish_reason for choice ${f}`);const{content:w=null,function_call:v,tool_calls:x,...m}=u,c=u.role;if(!c)throw new T(`missing role for choice ${f}`);if(v){const{arguments:p,name:y}=v;if(p==null)throw new T(`missing function_call.arguments for choice ${f}`);if(!y)throw new T(`missing function_call.name for choice ${f}`);return{...g,message:{content:w,function_call:{arguments:p,name:y},role:c,refusal:u.refusal??null},finish_reason:h,index:f,logprobs:d}}return x?{...g,index:f,finish_reason:h,logprobs:d,message:{...m,role:c,content:w,refusal:u.refusal??null,tool_calls:x.map((p,y)=>{const{function:k,type:E,id:S,...b}=p,{arguments:M,name:A,...L}=k||{};if(S==null)throw new T(`missing choices[${f}].tool_calls[${y}].id
${wi(e)}`);if(E==null)throw new T(`missing choices[${f}].tool_calls[${y}].type
${wi(e)}`);if(A==null)throw new T(`missing choices[${f}].tool_calls[${y}].function.name
${wi(e)}`);if(M==null)throw new T(`missing choices[${f}].tool_calls[${y}].function.arguments
${wi(e)}`);return{...b,id:S,type:E,function:{...L,name:A,arguments:M}}})}}:{...g,message:{...m,content:w,role:c,refusal:u.refusal??null},finish_reason:h,index:f,logprobs:d}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return ov(l,t)}function wi(e){return JSON.stringify(e)}class yr extends Ms{static fromReadableStream(t){const n=new yr(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const s=new yr(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(t,n,i)),s}static runTools(t,n,r){const s=new yr(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let Nm=class extends O{parse(t,n){return fv(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>Wu(r,t))}runFunctions(t,n){return t.stream?yr.runFunctions(this._client,t,n):Ns.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?yr.runTools(this._client,t,n):Ns.runTools(this._client,t,n)}stream(t,n){return Ms.createChatCompletion(this._client,t,n)}};class $l extends O{constructor(){super(...arguments),this.completions=new Nm(this._client)}}(function(e){e.Completions=Nm})($l||($l={}));class Mm extends O{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Tm extends O{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Ba extends O{constructor(){super(...arguments),this.sessions=new Mm(this._client),this.transcriptionSessions=new Tm(this._client)}}Ba.Sessions=Mm;Ba.TranscriptionSessions=Tm;class Vu extends O{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Z(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,Hu,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Hu extends ge{}Vu.MessagesPage=Hu;class Ju extends O{retrieve(t,n,r,s={},i){return Z(s)?this.retrieve(t,n,r,{},s):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,r={},s){return Z(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,Gu,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Gu extends ge{}Ju.RunStepsPage=Gu;let Vs=class extends O{constructor(){super(...arguments),this.steps=new Ju(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Z(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,Qu,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}createAndStream(t,n,r){return yt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await js(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return yt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,s){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,s){const i=await this.submitToolOutputs(t,n,r,s);return await this.poll(t,i.id,s)}submitToolOutputsStream(t,n,r,s){return yt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,s)}};class Qu extends ge{}Vs.RunsPage=Qu;Vs.Steps=Ju;Vs.RunStepsPage=Gu;class Mr extends O{constructor(){super(...arguments),this.runs=new Vs(this._client),this.messages=new Vu(this._client)}create(t={},n){return Z(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return yt.createThreadAssistantStream(t,this._client.beta.threads,n)}}Mr.Runs=Vs;Mr.RunsPage=Qu;Mr.Messages=Vu;Mr.MessagesPage=Hu;class Tr extends O{constructor(){super(...arguments),this.realtime=new Ba(this._client),this.chat=new $l(this._client),this.assistants=new Bu(this._client),this.threads=new Mr(this._client)}}Tr.Realtime=Ba;Tr.Assistants=Bu;Tr.AssistantsPage=ju;Tr.Threads=Mr;class Om extends O{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class Lm extends O{retrieve(t,n,r){return this._client.get(`/containers/${t}/files/${n}/content`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}}let ja=class extends O{constructor(){super(...arguments),this.content=new Lm(this._client)}create(t,n,r){return this._client.post(`/containers/${t}/files`,Dn({body:n,...r}))}retrieve(t,n,r){return this._client.get(`/containers/${t}/files/${n}`,r)}list(t,n={},r){return Z(n)?this.list(t,{},n):this._client.getAPIList(`/containers/${t}/files`,Ku,{query:n,...r})}del(t,n,r){return this._client.delete(`/containers/${t}/files/${n}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class Ku extends ge{}ja.FileListResponsesPage=Ku;ja.Content=Lm;class Hs extends O{constructor(){super(...arguments),this.files=new ja(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(`/containers/${t}`,n)}list(t={},n){return Z(t)?this.list({},t):this._client.getAPIList("/containers",Xu,{query:t,...n})}del(t,n){return this._client.delete(`/containers/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class Xu extends ge{}Hs.ContainerListResponsesPage=Xu;Hs.Files=ja;Hs.FileListResponsesPage=Ku;class Fm extends O{create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&dn("Request","User defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?i:(dn("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=iv(l)}),a)))}}class qu extends O{retrieve(t,n,r,s){return this._client.get(`/evals/${t}/runs/${n}/output_items/${r}`,s)}list(t,n,r={},s){return Z(r)?this.list(t,n,{},r):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,Yu,{query:r,...s})}}class Yu extends ge{}qu.OutputItemListResponsesPage=Yu;class Js extends O{constructor(){super(...arguments),this.outputItems=new qu(this._client)}create(t,n,r){return this._client.post(`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){return this._client.get(`/evals/${t}/runs/${n}`,r)}list(t,n={},r){return Z(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,Zu,{query:n,...r})}del(t,n,r){return this._client.delete(`/evals/${t}/runs/${n}`,r)}cancel(t,n,r){return this._client.post(`/evals/${t}/runs/${n}`,r)}}class Zu extends ge{}Js.RunListResponsesPage=Zu;Js.OutputItems=qu;Js.OutputItemListResponsesPage=Yu;class Gs extends O{constructor(){super(...arguments),this.runs=new Js(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,r){return this._client.post(`/evals/${t}`,{body:n,...r})}list(t={},n){return Z(t)?this.list({},t):this._client.getAPIList("/evals",ec,{query:t,...n})}del(t,n){return this._client.delete(`/evals/${t}`,n)}}class ec extends ge{}Gs.EvalListResponsesPage=ec;Gs.Runs=Js;Gs.RunListResponsesPage=Zu;let tc=class extends O{create(t,n){return this._client.post("/files",Dn({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return Z(t)?this.list({},t):this._client.getAPIList("/files",nc,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(t);for(;!a.status||!s.has(a.status);)if(await js(n),a=await this.retrieve(t),Date.now()-i>r)throw new Fu({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return a}};class nc extends ge{}tc.FileObjectsPage=nc;class $m extends O{}let Dm=class extends O{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class rc extends O{constructor(){super(...arguments),this.graders=new Dm(this._client)}}rc.Graders=Dm;class sc extends O{create(t,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,ic,{body:n,method:"post",...r})}retrieve(t,n={},r){return Z(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}del(t,n,r){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,r)}}class ic extends Fa{}sc.PermissionCreateResponsesPage=ic;let Ua=class extends O{constructor(){super(...arguments),this.permissions=new sc(this._client)}};Ua.Permissions=sc;Ua.PermissionCreateResponsesPage=ic;class ac extends O{list(t,n={},r){return Z(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,oc,{query:n,...r})}}class oc extends ge{}ac.FineTuningJobCheckpointsPage=oc;class Or extends O{constructor(){super(...arguments),this.checkpoints=new ac(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return Z(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",lc,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return Z(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,uc,{query:n,...r})}pause(t,n){return this._client.post(`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(`/fine_tuning/jobs/${t}/resume`,n)}}class lc extends ge{}class uc extends ge{}Or.FineTuningJobsPage=lc;Or.FineTuningJobEventsPage=uc;Or.Checkpoints=ac;Or.FineTuningJobCheckpointsPage=oc;class wn extends O{constructor(){super(...arguments),this.methods=new $m(this._client),this.jobs=new Or(this._client),this.checkpoints=new Ua(this._client),this.alpha=new rc(this._client)}}wn.Methods=$m;wn.Jobs=Or;wn.FineTuningJobsPage=lc;wn.FineTuningJobEventsPage=uc;wn.Checkpoints=Ua;wn.Alpha=rc;class zm extends O{}class cc extends O{constructor(){super(...arguments),this.graderModels=new zm(this._client)}}cc.GraderModels=zm;class Bm extends O{createVariation(t,n){return this._client.post("/images/variations",Dn({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Dn({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class fc extends O{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",dc,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class dc extends Fa{}fc.ModelsPage=dc;class jm extends O{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function wv(e,t){return!t||!_v(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:Um(e,t)}function Um(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:Ev(t,s)};if(s.type==="message"){const i=s.content.map(a=>a.type==="output_text"?{...a,parsed:vv(t,a.text)}:a);return{...s,content:i}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Dl(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function vv(e,t){var n,r,s,i;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function _v(e){var t;return!!Uu((t=e.text)==null?void 0:t.format)}function Sv(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function kv(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function Ev(e,t){const n=kv(e.tools??[],t.name);return{...t,...t,parsed_arguments:Sv(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function Dl(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}class Wm extends O{list(t,n={},r){return Z(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,xv,{query:n,...r})}}var Jn=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Qt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Gn,vi,Kt,_i,nd,rd,sd,id;class pc extends zu{constructor(t){super(),Gn.add(this),vi.set(this,void 0),Kt.set(this,void 0),_i.set(this,void 0),Jn(this,vi,t,"f")}static createResponse(t,n,r){const s=new pc(n);return s._run(()=>s._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Qt(this,Gn,"m",nd).call(this);let i,a=null;"response_id"in n?(i=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):i=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of i)Qt(this,Gn,"m",rd).call(this,l,a);if((o=i.controller.signal)!=null&&o.aborted)throw new at;return Qt(this,Gn,"m",sd).call(this)}[(vi=new WeakMap,Kt=new WeakMap,_i=new WeakMap,Gn=new WeakSet,nd=function(){this.ended||Jn(this,Kt,void 0,"f")},rd=function(n,r){if(this.ended)return;const s=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},i=Qt(this,Gn,"m",id).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const a=i.output[n.output_index];if(!a)throw new T(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new T(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new T(`expected content to be 'output_text', got ${o.type}`);s("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=i.output[n.output_index];if(!a)throw new T(`missing output at index ${n.output_index}`);a.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:s(n.type,n);break}},sd=function(){if(this.ended)throw new T("stream has ended, this shouldn't happen");const n=Qt(this,Kt,"f");if(!n)throw new T("request ended without sending any events");Jn(this,Kt,void 0,"f");const r=Cv(n,Qt(this,vi,"f"));return Jn(this,_i,r,"f"),r},id=function(n){let r=Qt(this,Kt,"f");if(!r){if(n.type!=="response.created")throw new T(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Jn(this,Kt,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new T(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new T(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new T(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new T(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new T(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{Jn(this,Kt,n.response,"f");break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=Qt(this,_i,"f");if(!t)throw new T("stream ended without producing a ChatCompletion");return t}}function Cv(e,t){return wv(e,t)}class hc extends O{constructor(){super(...arguments),this.inputItems=new Wm(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Dl(r),r))}retrieve(t,n={},r){return Z(n)&&r===void 0?this.retrieve(t,{},n):this._client.get(`/responses/${t}`,{query:n,...r,stream:n.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Dl(s),s))}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>Um(r,t))}stream(t,n){return pc.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(`/responses/${t}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class xv extends ge{}hc.InputItems=Wm;class Vm extends O{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Dn({body:n,...r}))}}class mc extends O{constructor(){super(...arguments),this.parts=new Vm(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}mc.Parts=Vm;const bv=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class Wa extends O{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,s){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n={},r){return Z(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,Va,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...r,headers:s}).withResponse(),a=i.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await js(o);break;case"failed":case"completed":return a}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,gc,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Va extends ge{}class gc extends Fa{}Wa.VectorStoreFilesPage=Va;Wa.FileContentResponsesPage=gc;class Hm extends O{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r={},s){return Z(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,Va,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(t,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(t,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await js(o);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,n.length),o=this._client,l=n.values(),u=[...r];async function h(d){for(let g of d){const w=await o.files.create({file:g,purpose:"assistants"},s);u.push(w.id)}}const f=Array(a).fill(l).map(h);return await bv(f),await this.createAndPoll(t,{file_ids:u})}}class vn extends O{constructor(){super(...arguments),this.files=new Wa(this._client),this.fileBatches=new Hm(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return Z(t)?this.list({},t):this._client.getAPIList("/vector_stores",yc,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/search`,wc,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class yc extends ge{}class wc extends Fa{}vn.VectorStoresPage=yc;vn.VectorStoreSearchResponsesPage=wc;vn.Files=Wa;vn.VectorStoreFilesPage=Va;vn.FileContentResponsesPage=gc;vn.FileBatches=Hm;var Jm;class $ extends Gw{constructor({baseURL:t=hi("OPENAI_BASE_URL"),apiKey:n=hi("OPENAI_API_KEY"),organization:r=hi("OPENAI_ORG_ID")??null,project:s=hi("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new T("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:s,...i,baseURL:t||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&rv())throw new T(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new Om(this),this.chat=new za(this),this.embeddings=new Fm(this),this.files=new tc(this),this.images=new Bm(this),this.audio=new Us(this),this.moderations=new jm(this),this.models=new fc(this),this.fineTuning=new wn(this),this.graders=new cc(this),this.vectorStores=new vn(this),this.beta=new Tr(this),this.batches=new $u(this),this.uploads=new mc(this),this.responses=new hc(this),this.evals=new Gs(this),this.containers=new Hs(this),this._options=a,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return Iw(t,{arrayFormat:"brackets"})}}Jm=$;$.OpenAI=Jm;$.DEFAULT_TIMEOUT=6e5;$.OpenAIError=T;$.APIError=Pe;$.APIConnectionError=Ma;$.APIConnectionTimeoutError=Fu;$.APIUserAbortError=at;$.NotFoundError=Hh;$.ConflictError=Jh;$.RateLimitError=Qh;$.BadRequestError=Uh;$.AuthenticationError=Wh;$.InternalServerError=Kh;$.PermissionDeniedError=Vh;$.UnprocessableEntityError=Gh;$.toFile=tm;$.fileFromPath=zh;$.Completions=Om;$.Chat=za;$.ChatCompletionsPage=Da;$.Embeddings=Fm;$.Files=tc;$.FileObjectsPage=nc;$.Images=Bm;$.Audio=Us;$.Moderations=jm;$.Models=fc;$.ModelsPage=dc;$.FineTuning=wn;$.Graders=cc;$.VectorStores=vn;$.VectorStoresPage=yc;$.VectorStoreSearchResponsesPage=wc;$.Beta=Tr;$.Batches=$u;$.BatchesPage=Du;$.Uploads=mc;$.Responses=hc;$.Evals=Gs;$.EvalListResponsesPage=ec;$.Containers=Hs;$.ContainerListResponsesPage=Xu;class Pv{constructor(){this.openai=null,this.initialized=!1}initialize(t){if(!t)return console.error("OpenAI API key is required"),!1;try{return!t.startsWith("sk-")||t.length<20?(console.error("Invalid API key format"),!1):(this.openai=new $({apiKey:t,dangerouslyAllowBrowser:!0}),this.initialized=!0,console.log("OpenAI service initialized successfully"),!0)}catch(n){return console.error("Error initializing OpenAI:",n),!1}}async generateActivity(t=3){if(!this.initialized)throw new Error("OpenAI service not initialized");try{const n=`Generate a physically demonstrable activity for a charades game with exactly ${t} logical components.
Format the response as a JSON object with the following structure:
{
  "activityVerb": "The activity (e.g., 'Building a house')",
  "components": ["component1", "component2", "component3"]
}
The activity must be something that can be physically acted out. 

IMPORTANT: Include a variety of activities, including everyday tasks, sports, professions, and also STUNTS or DARING ACTS that would be fun to act out (like "Walking a tightrope", "Performing a skateboard trick", "Doing a backflip", etc.).

CRITICAL: The components must be SPECIFIC, TANGIBLE objects, roles, or locations that would logically be used in the activity.
- Use specific physical objects/tools (e.g., "hammer" not "tool", "chef's knife" not "equipment")
- Use specific rooms (e.g., "kitchen" not "room", "operating theater" not "medical facility")
- Use specific people or occupations (e.g., "surgeon" not "medical professional", "quarterback" not "player")

STRICTLY FORBIDDEN: Never use generic or categorical terms like:
- "equipment", "supplies", "materials", "tools", "items", "accessories"
- "device", "apparatus", "implement", "utensil", "gadget", "appliance"
- "gear", "kit", "set", "stuff", "things", "objects"
- "professional", "worker", "person", "individual", "specialist"
- "location", "place", "area", "space", "room", "facility"

Examples of good components:
- For "Sanding wood": "sandpaper", "wooden plank", "workbench"
- For "Performing surgery": "scalpel", "surgical gloves", "operating theater"
- For "Baking cookies": "mixing bowl", "cookie sheet", "oven"
- For "Walking a tightrope": "balance pole", "safety net", "high wire"
- For "Performing a skateboard trick": "skateboard", "ramp", "helmet"

IMPORTANT: Each component must be unique - do not repeat any component.`,s=(await this.openai.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant that generates charades activities with specific, non-generic components."},{role:"user",content:n}],max_tokens:150,temperature:.7})).choices[0].message.content.trim();return JSON.parse(s)}catch(n){throw console.error("Error generating activity:",n),n}}async generateReplacements(t,n,r=!1){if(!this.initialized)throw new Error("OpenAI service not initialized");try{const s=Array.from(n),i=`Generate interesting replacement words for the following components in a charades-like game:
${t.join(", ")}

Rules:
1. Each replacement MUST be COMPLETELY INCONGRUOUS to the original component - NOT a synonym or related item
2. Replacements MUST be from a DIFFERENT CATEGORY than the original (e.g., if original is a tool, replacement should NOT be any kind of tool)
3. Replacements MUST be VISUALLY DEMONSTRABLE (can be acted out physically)
4. Choose replacements that would be SURPRISING and UNEXPECTED when mimed like in charades
5. Words should be appropriate for all ages
6. Words should NOT include "and"
7. Words should NOT be in this list: ${s.slice(0,100).join(", ")}
8. Each replacement must be UNIQUE - do not repeat any word
9. IMPORTANT: Do not use any words that have been used before
10. CRITICAL: The replacement should create HUMOR through INCONGRUITY with the original

STRICTLY FORBIDDEN: Never use generic or categorical terms like:
- "equipment", "supplies", "materials", "tools", "items", "accessories"
- "device", "apparatus", "implement", "utensil", "gadget", "appliance"
- "gear", "kit", "set", "stuff", "things", "objects"
- "professional", "worker", "person", "individual", "specialist"
- "location", "place", "area", "space", "room", "facility"

SPECIAL VARIATIONS:
- For people/roles (like "chef", "doctor", "player"), you can use a celebrity or fictional character name 20% of the time
- For objects (like "hammer", "ball", "chair"), you can use "made of [material]" 20% of the time where [material] is an unexpected material

Examples of good replacements:
- "hammer"  "ballerina" or "jellyfish" or "made of chocolate" (NOT "screwdriver" or any tool)
- "chef"  "skateboard" or "volcano" or "Brad Pitt" (NOT "waiter" or any profession)
- "hospital"  "banana" or "trampoline" (NOT "clinic" or any location)
- "basketball"  "teapot" or "vampire" or "made of glass" (NOT "football" or any sports equipment)

Format the response as a JSON array with the following structure:
[
  {"original": "component1", "replacement": "interesting_replacement1"},
  {"original": "component2", "replacement": "interesting_replacement2"},
  ...
]`,o=(await this.openai.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant that generates interesting, specific word replacements for charades. Never use generic terms."},{role:"user",content:i}],max_tokens:200,temperature:.8})).choices[0].message.content.trim();return JSON.parse(o)}catch(s){throw console.error("Error generating replacements:",s),s}}async generateSingleComponent(t,n,r){if(!this.initialized)throw new Error("OpenAI service not initialized");try{const s=Array.from(r),i=`Generate a single new component for the charades activity: "${t}"

Current components: ${n.join(", ")}

Rules:
1. The new component MUST be LOGICALLY ASSOCIATED with the activity
2. It MUST be VISUALLY DEMONSTRABLE (can be acted out physically)
3. It must be a SPECIFIC, TANGIBLE object, role, or location that would logically be used in the activity
4. It should NOT be in this list: ${s.slice(0,100).join(", ")}
5. It should NOT be similar to the existing components
6. It should be appropriate for all ages
7. It should be a single word or short phrase (no "and")

STRICTLY FORBIDDEN: Never use generic or categorical terms like:
- "equipment", "supplies", "materials", "tools", "items", "accessories"
- "device", "apparatus", "implement", "utensil", "gadget", "appliance"
- "gear", "kit", "set", "stuff", "things", "objects"
- "professional", "worker", "person", "individual", "specialist"
- "location", "place", "area", "space", "room", "facility"

Examples of good components:
- For "Baking cookies": "mixing bowl", "cookie sheet", "oven", "spatula", "flour", "chef"
- For "Playing basketball": "basketball", "hoop", "court", "referee", "jersey", "scoreboard"
- For "Performing surgery": "scalpel", "surgical gloves", "operating table", "surgeon", "nurse", "anesthesia mask"

IMPORTANT: Return ONLY the new component as a single string, with no additional text, quotes, or formatting.`,o=(await this.openai.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant that generates specific, non-generic charades components."},{role:"user",content:i}],max_tokens:50,temperature:.6})).choices[0].message.content.trim().replace(/^["'](.*)["']$/,"$1").replace(/^\s*-\s*/,"");return Si(o)?await this.generateSpecificComponent(t,n,r):o}catch(s){throw console.error("Error generating single component:",s),s}}async generateSpecificComponent(t,n,r){try{const s=`Generate a HIGHLY SPECIFIC component for the activity: "${t}"

Current components: ${n.join(", ")}

I need a VERY SPECIFIC, NON-GENERIC component. For example:
- Instead of "tool"  use "hammer", "screwdriver", or "wrench"
- Instead of "equipment"  use "helmet", "knee pads", or "gloves"
- Instead of "supplies"  use "paint brush", "canvas", or "easel"

The component must be a CONCRETE, TANGIBLE object or person that would be used in ${t}.

IMPORTANT: Return ONLY the specific component as a single word or short phrase.`,a=(await this.openai.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant that generates extremely specific, concrete charades components."},{role:"user",content:s}],max_tokens:50,temperature:.5})).choices[0].message.content.trim().replace(/^["'](.*)["']$/,"$1").replace(/^\s*-\s*/,"");return Si(a)?ki(t):a}catch(s){return console.error("Error generating specific component:",s),ki(t)}}async simplifyActivity(t){if(!this.initialized)throw new Error("OpenAI service not initialized");try{const n=`Simplify this activity for a charades game to make it easier to act out:
"${t.activityVerb}" with components: ${t.selectedComponents.join(", ")}

Create a simpler version with 2-3 components that are easier to understand and act out.

CRITICAL: The components must be SPECIFIC, TANGIBLE objects, roles, or locations that would logically be used in the activity.
- Use specific physical objects/tools (e.g., "hammer" not "tool", "chef's knife" not "equipment")
- Use specific rooms (e.g., "kitchen" not "room", "operating theater" not "medical facility")
- Use specific people or occupations (e.g., "surgeon" not "medical professional", "quarterback" not "player")

STRICTLY FORBIDDEN: Never use generic or categorical terms like:
- "equipment", "supplies", "materials", "tools", "items", "accessories"
- "device", "apparatus", "implement", "utensil", "gadget", "appliance"
- "gear", "kit", "set", "stuff", "things", "objects"
- "professional", "worker", "person", "individual", "specialist"
- "location", "place", "area", "space", "room", "facility"

Examples of good components:
- For "Sanding wood": "sandpaper", "wooden plank", "workbench"
- For "Performing surgery": "scalpel", "surgical gloves", "operating theater"
- For "Baking cookies": "mixing bowl", "cookie sheet", "oven"

IMPORTANT: Each component must be unique - do not repeat any component.

Format the response as a JSON object with the following structure:
{
  "activityVerb": "The simplified activity",
  "components": ["specific component1", "specific component2", "specific component3"]
}`,s=(await this.openai.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant that simplifies charades activities using specific, non-generic components."},{role:"user",content:n}],max_tokens:150,temperature:.5})).choices[0].message.content.trim(),i=JSON.parse(s);return i.components.some(o=>Si(o))?await this.generateSpecificSimplification(t):{activityVerb:i.activityVerb,selectedComponents:i.components}}catch(n){throw console.error("Error simplifying activity:",n),n}}async generateSpecificSimplification(t){try{const n=`Simplify this activity for a charades game using ONLY HIGHLY SPECIFIC components:
"${t.activityVerb}" with components: ${t.selectedComponents.join(", ")}

Create a simpler version with 2-3 components that are CONCRETE and SPECIFIC.

I need VERY SPECIFIC, NON-GENERIC components. For example:
- Instead of "tool"  use "hammer", "screwdriver", or "wrench"
- Instead of "equipment"  use "helmet", "knee pads", or "gloves"
- Instead of "supplies"  use "paint brush", "canvas", or "easel"

Each component must be a CONCRETE, TANGIBLE object or person that would be used in the activity.

Format the response as a JSON object with the following structure:
{
  "activityVerb": "The simplified activity",
  "components": ["specific component1", "specific component2", "specific component3"]
}`,s=(await this.openai.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant that simplifies charades activities using extremely specific, concrete components."},{role:"user",content:n}],max_tokens:150,temperature:.5})).choices[0].message.content.trim(),i=JSON.parse(s),a=i.components.map(o=>Si(o)?ki(i.activityVerb):o);return{activityVerb:i.activityVerb,selectedComponents:a}}catch(n){console.error("Error generating specific simplification:",n);const r=[];for(let s=0;s<3;s++)r.push(ki(t.activityVerb));return{activityVerb:t.activityVerb,selectedComponents:r.slice(0,3)}}}}function Si(e){if(!e||typeof e!="string")return!0;const t=["equipment","supplies","materials","tools","items","accessories","device","apparatus","implement","utensil","gadget","appliance","gear","kit","set","stuff","things","objects","prop","instrument","professional","worker","person","individual","specialist","expert","location","place","area","space","room","facility","venue","component","part","piece","element","unit","module","section","tool","supply","material","item","accessory","device","apparatus","implement","utensil","gadget","appliance","gear","kit","set"],n=e.toLowerCase();return t.some(r=>n===r||n.startsWith(r+" ")||n.endsWith(" "+r)||n.includes(" "+r+" "))}function ki(e){const t=e.toLowerCase();if(t.includes("cook")||t.includes("bak")||t.includes("food")){const r=["wooden spoon","chef's knife","measuring cup","mixing bowl","whisk","spatula","oven mitt","cutting board","rolling pin","frying pan"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("play")||t.includes("sport")||t.includes("game")||t.includes("ball")||t.includes("tennis")||t.includes("basketball")){const r=["basketball","tennis racket","baseball bat","hockey stick","football helmet","soccer cleats","golf club","volleyball net","referee whistle","scoreboard"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("build")||t.includes("construct")||t.includes("fix")||t.includes("repair")||t.includes("install")){const r=["hammer","screwdriver","power drill","measuring tape","level","nail","screw","wrench","pliers","saw"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("clean")||t.includes("wash")||t.includes("scrub")||t.includes("dust")||t.includes("vacuum")){const r=["sponge","mop","broom","vacuum cleaner","duster","spray bottle","rubber gloves","scrub brush","paper towel","trash bag"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("paint")||t.includes("draw")||t.includes("sketch")||t.includes("art")||t.includes("craft")){const r=["paintbrush","canvas","easel","palette","pencil","sketchbook","charcoal","watercolor","clay","sculpting tool"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("music")||t.includes("play")||t.includes("sing")||t.includes("guitar")||t.includes("piano")){const r=["guitar","piano","drum","microphone","sheet music","violin","trumpet","flute","saxophone","conductor's baton"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("stunt")||t.includes("trick")||t.includes("jump")||t.includes("flip")||t.includes("perform")||t.includes("acrobat")){const r=["safety harness","crash mat","helmet","knee pads","trampoline","balance beam","tightrope","skateboard","ramp","protective gloves"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("hike")||t.includes("camp")||t.includes("fish")||t.includes("hunt")||t.includes("garden")){const r=["hiking boots","tent","fishing rod","compass","backpack","binoculars","water bottle","sleeping bag","flashlight","trowel"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("computer")||t.includes("program")||t.includes("code")||t.includes("tech")||t.includes("game")){const r=["keyboard","mouse","monitor","headphones","laptop","smartphone","game controller","webcam","microphone","graphics tablet"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("doctor")||t.includes("nurse")||t.includes("medic")||t.includes("hospital")||t.includes("surgery")){const r=["stethoscope","syringe","bandage","surgical mask","scalpel","thermometer","blood pressure cuff","surgical gloves","prescription pad","tongue depressor"];return r[Math.floor(Math.random()*r.length)]}const n=["coffee mug","wristwatch","sunglasses","umbrella","wallet","backpack","notebook","pencil","scissors","tape measure","flashlight","camera","bicycle","helmet","tennis racket","baseball bat","paintbrush","hammer","screwdriver","wrench","cooking pot","frying pan","chef's knife","wooden spoon"];return n[Math.floor(Math.random()*n.length)]}const fe=new Pv,Ha="ThingsGeneratorDB",Rv=1,br="activities",Pr="components",Rr="replacements",ad=1e4,Iv=()=>new Promise((e,t)=>{if(!window.indexedDB){console.error("Your browser doesn't support IndexedDB. Long-term repetition prevention will be limited."),e(!1);return}const n=indexedDB.open(Ha,Rv);n.onerror=r=>{console.error("Database error:",r.target.error),t(r.target.error)},n.onupgradeneeded=r=>{const s=r.target.result;if(!s.objectStoreNames.contains(br)){const i=s.createObjectStore(br,{keyPath:"id",autoIncrement:!0});i.createIndex("text","text",{unique:!1}),i.createIndex("timestamp","timestamp",{unique:!1})}if(!s.objectStoreNames.contains(Pr)){const i=s.createObjectStore(Pr,{keyPath:"id",autoIncrement:!0});i.createIndex("text","text",{unique:!1}),i.createIndex("timestamp","timestamp",{unique:!1})}if(!s.objectStoreNames.contains(Rr)){const i=s.createObjectStore(Rr,{keyPath:"id",autoIncrement:!0});i.createIndex("text","text",{unique:!1}),i.createIndex("timestamp","timestamp",{unique:!1})}},n.onsuccess=r=>{console.log("Database initialized successfully"),e(!0)}}),vc=(e,t)=>new Promise((n,r)=>{if(!t||typeof t!="string"){n(!1);return}const s=t.trim().toLowerCase(),i=indexedDB.open(Ha);i.onerror=a=>{console.error(`Error opening database to add to ${e}:`,a.target.error),r(a.target.error)},i.onsuccess=a=>{const u=a.target.result.transaction([e],"readwrite").objectStore(e),f=u.index("text").getAll(s);f.onsuccess=()=>{if(f.result&&f.result.length>0){n(!1);return}const d=u.add({text:s,timestamp:Date.now()});d.onsuccess=()=>{const g=u.count();g.onsuccess=()=>{const w=g.result;if(w>ad){const v=w-ad,m=u.index("timestamp").openCursor();let c=0;m.onsuccess=p=>{const y=p.target.result;if(y&&c<v){const k=u.delete(y.primaryKey);k.onsuccess=()=>{c++},y.continue()}}}},n(!0)},d.onerror=g=>{console.error(`Error adding item to ${e}:`,g.target.error),r(g.target.error)}}}}),_c=(e,t)=>new Promise((n,r)=>{if(!t||typeof t!="string"){n(!1);return}const s=t.trim().toLowerCase(),i=indexedDB.open(Ha);i.onerror=a=>{console.error(`Error opening database to check in ${e}:`,a.target.error),r(a.target.error)},i.onsuccess=a=>{const f=a.target.result.transaction([e],"readonly").objectStore(e).index("text").getAll(s);f.onsuccess=()=>{n(f.result&&f.result.length>0)},f.onerror=d=>{console.error(`Error checking item in ${e}:`,d.target.error),r(d.target.error)}}}),Av=e=>vc(br,e),Nv=e=>_c(br,e),Mv=e=>vc(Pr,e),Tv=e=>_c(Pr,e),Ov=e=>vc(Rr,e),Lv=e=>_c(Rr,e),Fv=()=>new Promise((e,t)=>{const n=indexedDB.open(Ha);n.onerror=r=>{console.error("Error opening database for stats:",r.target.error),t(r.target.error)},n.onsuccess=r=>{const s=r.target.result,i={activities:0,components:0,replacements:0},l=s.transaction([br],"readonly").objectStore(br).count();l.onsuccess=()=>{i.activities=l.result;const f=s.transaction([Pr],"readonly").objectStore(Pr).count();f.onsuccess=()=>{i.components=f.result;const w=s.transaction([Rr],"readonly").objectStore(Rr).count();w.onsuccess=()=>{i.replacements=w.result,e(i)}}}}}),Sc="thingsGenerator_",Ts=`${Sc}activities`,Os=`${Sc}components`,Ls=`${Sc}replacements`,od=1e3,ld=()=>{try{return localStorage.getItem(Ts)||localStorage.setItem(Ts,JSON.stringify([])),localStorage.getItem(Os)||localStorage.setItem(Os,JSON.stringify([])),localStorage.getItem(Ls)||localStorage.setItem(Ls,JSON.stringify([])),!0}catch(e){return console.error("Error initializing fallback storage:",e),!1}},kc=(e,t)=>{try{if(!t||typeof t!="string")return!1;const n=t.trim().toLowerCase(),r=localStorage.getItem(e);let s=[];return r&&(s=JSON.parse(r)),s.includes(n)?!1:(s.push(n),s.length>od&&(s=s.slice(s.length-od)),localStorage.setItem(e,JSON.stringify(s)),!0)}catch(n){return console.error(`Error adding to fallback storage (${e}):`,n),!1}},Ec=(e,t)=>{try{if(!t||typeof t!="string")return!1;const n=t.trim().toLowerCase(),r=localStorage.getItem(e);let s=[];return r&&(s=JSON.parse(r)),s.includes(n)}catch(n){return console.error(`Error checking in fallback storage (${e}):`,n),!1}},ud=e=>kc(Ts,e),cd=e=>Ec(Ts,e),fd=e=>kc(Os,e),dd=e=>Ec(Os,e),pd=e=>kc(Ls,e),hd=e=>Ec(Ls,e),md=()=>{try{const e={activities:0,components:0,replacements:0},t=localStorage.getItem(Ts);if(t){const s=JSON.parse(t);e.activities=s.length}const n=localStorage.getItem(Os);if(n){const s=JSON.parse(n);e.components=s.length}const r=localStorage.getItem(Ls);if(r){const s=JSON.parse(r);e.replacements=s.length}return e}catch(e){return console.error("Error getting fallback storage stats:",e),{activities:0,components:0,replacements:0}}};let Te=!0;const $v=async()=>{try{const e=await Iv();return Te=e,e||(console.log("Using fallback localStorage for repetition prevention"),ld()),!0}catch(e){return console.error("Error initializing repetition prevention:",e),console.log("Using fallback localStorage for repetition prevention"),ld(),Te=!1,!1}},Gm=async e=>{if(Te)try{return await Av(e)}catch(t){return console.error("Error with IndexedDB, falling back to localStorage:",t),Te=!1,ud(e)}else return ud(e)},ma=async e=>{if(Te)try{return await Nv(e)}catch(t){return console.error("Error with IndexedDB, falling back to localStorage:",t),Te=!1,cd(e)}else return cd(e)},Vr=async e=>{if(Te)try{return await Mv(e)}catch(t){return console.error("Error with IndexedDB, falling back to localStorage:",t),Te=!1,fd(e)}else return fd(e)},Io=async e=>{if(Te)try{return await Tv(e)}catch(t){return console.error("Error with IndexedDB, falling back to localStorage:",t),Te=!1,dd(e)}else return dd(e)},ps=async e=>{if(Te)try{return await Ov(e)}catch(t){return console.error("Error with IndexedDB, falling back to localStorage:",t),Te=!1,pd(e)}else return pd(e)},gd=async e=>{if(Te)try{return await Lv(e)}catch(t){return console.error("Error with IndexedDB, falling back to localStorage:",t),Te=!1,hd(e)}else return hd(e)},kn=async()=>{if(Te)try{return await Fv()}catch(e){return console.error("Error with IndexedDB, falling back to localStorage:",e),Te=!1,md()}else return md()};function bn(e){if(!e||typeof e!="string")return!0;const t=["equipment","supplies","materials","tools","items","accessories","device","apparatus","implement","utensil","gadget","appliance","gear","kit","set","stuff","things","objects","prop","instrument","professional","worker","person","individual","specialist","expert","location","place","area","space","room","facility","venue","component","part","piece","element","unit","module","section","tool","supply","material","item","accessory","device","apparatus","implement","utensil","gadget","appliance","gear","kit","set"],n=e.toLowerCase();return t.some(r=>n===r||n.startsWith(r+" ")||n.endsWith(" "+r)||n.includes(" "+r+" "))}function zl(e){const t=e.toLowerCase();if(t.includes("cook")||t.includes("bak")||t.includes("food")){const r=["wooden spoon","chef's knife","measuring cup","mixing bowl","whisk","spatula","oven mitt","cutting board","rolling pin","frying pan"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("play")||t.includes("sport")||t.includes("game")||t.includes("ball")||t.includes("tennis")||t.includes("basketball")){const r=["basketball","tennis racket","baseball bat","hockey stick","football helmet","soccer cleats","golf club","volleyball net","referee whistle","scoreboard"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("build")||t.includes("construct")||t.includes("fix")||t.includes("repair")||t.includes("install")){const r=["hammer","screwdriver","power drill","measuring tape","level","nail","screw","wrench","pliers","saw"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("clean")||t.includes("wash")||t.includes("scrub")||t.includes("dust")||t.includes("vacuum")){const r=["sponge","mop","broom","vacuum cleaner","duster","spray bottle","rubber gloves","scrub brush","paper towel","trash bag"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("paint")||t.includes("draw")||t.includes("sketch")||t.includes("art")||t.includes("craft")){const r=["paintbrush","canvas","easel","palette","pencil","sketchbook","charcoal","watercolor","clay","sculpting tool"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("music")||t.includes("play")||t.includes("sing")||t.includes("guitar")||t.includes("piano")){const r=["guitar","piano","drum","microphone","sheet music","violin","trumpet","flute","saxophone","conductor's baton"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("stunt")||t.includes("trick")||t.includes("jump")||t.includes("flip")||t.includes("perform")||t.includes("acrobat")){const r=["safety harness","crash mat","helmet","knee pads","trampoline","balance beam","tightrope","skateboard","ramp","protective gloves"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("hike")||t.includes("camp")||t.includes("fish")||t.includes("hunt")||t.includes("garden")){const r=["hiking boots","tent","fishing rod","compass","backpack","binoculars","water bottle","sleeping bag","flashlight","trowel"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("computer")||t.includes("program")||t.includes("code")||t.includes("tech")||t.includes("game")){const r=["keyboard","mouse","monitor","headphones","laptop","smartphone","game controller","webcam","microphone","graphics tablet"];return r[Math.floor(Math.random()*r.length)]}if(t.includes("doctor")||t.includes("nurse")||t.includes("medic")||t.includes("hospital")||t.includes("surgery")){const r=["stethoscope","syringe","bandage","surgical mask","scalpel","thermometer","blood pressure cuff","surgical gloves","prescription pad","tongue depressor"];return r[Math.floor(Math.random()*r.length)]}const n=["coffee mug","wristwatch","sunglasses","umbrella","wallet","backpack","notebook","pencil","scissors","tape measure","flashlight","camera","bicycle","helmet","tennis racket","baseball bat","paintbrush","hammer","screwdriver","wrench","cooking pot","frying pan","chef's knife","wooden spoon"];return n[Math.floor(Math.random()*n.length)]}const Ao=[{activityVerb:"Baking cookies",components:["mixing bowl","cookie sheet","oven"]},{activityVerb:"Changing a tire",components:["car jack","spare tire","lug wrench"]},{activityVerb:"Playing basketball",components:["basketball","hoop","court"]},{activityVerb:"Fishing",components:["fishing rod","bait","tackle box"]},{activityVerb:"Painting a portrait",components:["canvas","paintbrush","easel"]},{activityVerb:"Building a sandcastle",components:["sand","bucket","shovel"]},{activityVerb:"Washing a car",components:["sponge","hose","soap bucket"]},{activityVerb:"Planting a garden",components:["seeds","watering can","trowel"]},{activityVerb:"Making a sandwich",components:["bread","knife","cutting board"]},{activityVerb:"Taking a photograph",components:["camera","tripod","subject"]},{activityVerb:"Playing guitar",components:["guitar","pick","amplifier","sheet music"]},{activityVerb:"Camping in the woods",components:["tent","sleeping bag","campfire","flashlight"]},{activityVerb:"Baking a cake",components:["mixing bowl","cake pan","oven","frosting","spatula"]},{activityVerb:"Changing a light bulb",components:["ladder","light bulb"]},{activityVerb:"Brushing teeth",components:["toothbrush","toothpaste"]},{activityVerb:"Riding a bicycle",components:["bicycle","helmet","water bottle","road","pedals"]},{activityVerb:"Serving tennis",components:["tennis racket","tennis ball","court"]},{activityVerb:"Wrapping a present",components:["wrapping paper","scissors","tape","gift","bow"]},{activityVerb:"Washing dishes",components:["sink","sponge","dish soap","plate","drying rack"]},{activityVerb:"Mowing the lawn",components:["lawn mower","grass","yard","gas can"]},{activityVerb:"Walking a tightrope",components:["balance pole","safety net","high wire"]},{activityVerb:"Performing a skateboard trick",components:["skateboard","ramp","helmet","knee pads"]},{activityVerb:"Doing a backflip",components:["gymnastics mat","spotter","trampoline"]},{activityVerb:"Rock climbing",components:["climbing rope","carabiner","chalk bag","climbing shoes"]},{activityVerb:"Bungee jumping",components:["bungee cord","harness","platform","helmet"]},{activityVerb:"Skydiving",components:["parachute","airplane","altimeter","goggles"]},{activityVerb:"Surfing a big wave",components:["surfboard","wetsuit","ocean wave","beach"]},{activityVerb:"Performing a magic trick",components:["magic wand","top hat","rabbit","playing cards"]},{activityVerb:"Riding a mechanical bull",components:["mechanical bull","rodeo arena","timer","safety mat"]},{activityVerb:"Juggling flaming torches",components:["torches","fire extinguisher","juggling gloves","safety zone"]},{activityVerb:"Performing a sword swallowing act",components:["sword","stage","audience","spotlight"]},{activityVerb:"Walking on hot coals",components:["hot coals","fire pit","water bucket","bare feet"]},{activityVerb:"Escaping from handcuffs",components:["handcuffs","lock pick","timer","escape artist"]},{activityVerb:"Performing on a flying trapeze",components:["trapeze bar","safety net","circus tent","spotter"]},{activityVerb:"Racing a motorcycle",components:["motorcycle","racing track","helmet","finish line"]}],Dv=async(e=3,t)=>{try{if(fe.initialized)try{let n=await fe.generateActivity(e);if(!n||!n.activityVerb||!n.components||!Array.isArray(n.components)||n.components.length!==e)throw console.error("Invalid activity format from OpenAI:",n),new Error("Invalid activity format from OpenAI");const r=n.components.some(o=>bn(o));if(r){console.log("Generic components detected, regenerating...");let o=0;const l=3;for(;r&&o<l&&(n=await fe.generateActivity(e),!(!n||!n.activityVerb||!n.components||!Array.isArray(n.components)||n.components.length!==e||!n.components.some(h=>bn(h))));)o++;n.components.some(u=>bn(u))&&(n.components=n.components.map(u=>bn(u)?zl(n.activityVerb):u))}let s=await ma(n.activityVerb),i=0;const a=10;for(;s&&i<a;){if(console.log(`Activity "${n.activityVerb}" already exists, generating a new one...`),n=await fe.generateActivity(e),!n||!n.activityVerb||!n.components||!Array.isArray(n.components)||n.components.length!==e)throw console.error("Invalid activity format from OpenAI:",n),new Error("Invalid activity format from OpenAI");n.components=n.components.map(o=>bn(o)?zl(n.activityVerb):o),s=await ma(n.activityVerb),i++}if(s)return console.log(`Could not generate a unique activity after ${a} attempts, using fallback...`),await yd(e,t);if(await Gm(n.activityVerb),n.components&&n.components.length===e)return{activityVerb:n.activityVerb,selectedComponents:n.components};{const o=[...n.components];for(;o.length<e;){const l=await Qm(n.activityVerb,o);o.push(l)}for(;o.length>e;)o.pop();return{activityVerb:n.activityVerb,selectedComponents:o}}}catch(n){console.error("Error using OpenAI to generate activity:",n)}return await yd(e,t)}catch(n){throw console.error("Error generating statement:",n),n}},yd=async(e,t)=>{console.log("Using fallback activity data");let n=Ao.filter(u=>u.components.length===e);n.length===0&&(n=Ao.filter(u=>Math.abs(u.components.length-e)<=2),n.length===0&&(n=Ao));let r,s,i=!0,a=0;const o=n.length*2;for(;i&&a<o;)r=n[Math.floor(Math.random()*n.length)],s=r.activityVerb,i=await ma(s),a++;if(i){const u=["Baking a cake","Washing a dog","Climbing a mountain","Painting a fence","Building a snowman","Flying a kite","Planting flowers","Washing windows","Changing a lightbulb","Fixing a bicycle","Making a sandwich","Wrapping a gift","Pitching a tent","Rowing a boat","Serving tennis","Shooting a basketball","Brushing teeth","Washing hair","Tying shoelaces","Folding laundry","Cooking pasta","Grilling burgers","Chopping vegetables","Setting a table","Playing piano","Strumming guitar","Drumming","Conducting orchestra","Driving a car","Riding a bike","Skating","Swimming laps","Walking a tightrope","Performing a skateboard trick","Doing a backflip","Rock climbing","Bungee jumping","Skydiving","Surfing a big wave","Performing a magic trick","Riding a mechanical bull","Juggling flaming torches","Performing a sword swallowing act","Walking on hot coals","Escaping from handcuffs","Performing on a flying trapeze","Racing a motorcycle","Snowboarding down a mountain","Performing a slam dunk","Riding a unicycle","Walking on stilts","Fire breathing"];for(const h of u)if(i=await ma(h),!i){s=h;break}if(i){const h=["Playing","Building","Creating","Making","Performing","Attempting","Executing","Demonstrating","Showcasing","Mastering"],f=["game","project","artwork","craft","activity","stunt","trick","feat","maneuver","skill"],d=h[Math.floor(Math.random()*h.length)],g=f[Math.floor(Math.random()*f.length)],w=Date.now().toString().slice(-4);s=`${d} a ${g} #${w}`}}await Gm(s);const l=r?[...r.components]:[];for(;l.length<e;){const u=await Qm(s,l);l.push(u)}for(;l.length>e;)l.pop();return{activityVerb:s,selectedComponents:l}},Qm=async(e,t)=>{if(fe.initialized)try{const n=await fe.generateSingleComponent(e,t,new Set);if(n&&typeof n=="string"&&n.trim().length>0&&!bn(n))return n.trim()}catch(n){console.error("Error generating component with OpenAI:",n)}try{const{generateUniqueComponents:n}=await Cl(async()=>{const{generateUniqueComponents:s}=await Promise.resolve().then(()=>Km);return{generateUniqueComponents:s}},void 0),r=await n(e,1,new Set(t));if(r&&r.length>0&&!bn(r[0]))return r[0]}catch(n){console.error("Error generating component locally:",n)}return zl(e)},zv=["doctor","nurse","surgeon","dentist","veterinarian","pharmacist","therapist","psychologist","teacher","professor","instructor","tutor","principal","dean","counselor","librarian","chef","cook","baker","waiter","waitress","server","bartender","barista","sommelier","police officer","detective","sheriff","security guard","firefighter","paramedic","lifeguard","lawyer","judge","attorney","prosecutor","defender","paralegal","notary","mediator","engineer","architect","designer","developer","programmer","scientist","researcher","analyst","artist","musician","actor","actress","dancer","singer","composer","director","producer","writer","author","editor","journalist","reporter","photographer","videographer","animator","athlete","player","coach","trainer","referee","umpire","announcer","commentator","pilot","captain","driver","conductor","navigator","astronaut","sailor","fisherman","farmer","gardener","rancher","forester","miner","logger","hunter","gatherer","carpenter","plumber","electrician","mechanic","welder","painter","roofer","mason","cashier","clerk","receptionist","secretary","assistant","manager","supervisor","executive","salesperson","representative","agent","broker","consultant","advisor","analyst","specialist","soldier","officer","general","admiral","sergeant","corporal","private","cadet","priest","pastor","minister","rabbi","imam","monk","nun","chaplain","king","queen","prince","princess","duke","duchess","lord","lady","knight","president","prime minister","senator","representative","mayor","governor","diplomat","ambassador","student","pupil","apprentice","intern","volunteer","member","citizen","resident","patient","client","customer","guest","visitor","passenger","traveler","tourist","man","woman","boy","girl","child","adult","teenager","senior","elder","baby","toddler","friend","neighbor","colleague","partner","spouse","husband","wife","parent","father","mother","son","daughter","brother","sister","uncle","aunt","cousin","nephew","niece","grandparent","grandmother","grandfather","grandchild","grandson","granddaughter","in-law","stepparent","stepchild"],Bv=["Tom Hanks","Meryl Streep","Leonardo DiCaprio","Jennifer Lawrence","Denzel Washington","Julia Roberts","Brad Pitt","Angelina Jolie","Robert Downey Jr.","Scarlett Johansson","Will Smith","Emma Stone","Johnny Depp","Viola Davis","Tom Cruise","Sandra Bullock","Morgan Freeman","Charlize Theron","Samuel L. Jackson","Nicole Kidman","Harrison Ford","Cate Blanchett","Dwayne Johnson","Natalie Portman","Keanu Reeves","Jennifer Aniston","Beyonc","Taylor Swift","Ed Sheeran","Adele","Bruno Mars","Lady Gaga","Justin Bieber","Rihanna","Drake","Ariana Grande","Elton John","Billie Eilish","Jay-Z","Madonna","Kanye West","Katy Perry","Paul McCartney","Alicia Keys","John Legend","Celine Dion","Michael Jordan","Serena Williams","Cristiano Ronaldo","Simone Biles","LeBron James","Megan Rapinoe","Usain Bolt","Naomi Osaka","Tom Brady","Lindsey Vonn","Tiger Woods","Mia Hamm","Muhammad Ali","Billie Jean King","Wayne Gretzky","Danica Patrick","Albert Einstein","Marie Curie","Stephen Hawking","Malala Yousafzai","Nelson Mandela","Mother Teresa","Mahatma Gandhi","Martin Luther King Jr.","Abraham Lincoln","Cleopatra","Leonardo da Vinci","Frida Kahlo","Pablo Picasso","Vincent van Gogh","Walt Disney","Steve Jobs","Bill Gates","Oprah Winfrey","Barack Obama","Queen Elizabeth II"],jv=["Superman","Wonder Woman","Batman","Spider-Man","Iron Man","Captain America","Black Widow","Thor","Hulk","Black Panther","Wolverine","Storm","Deadpool","Captain Marvel","Flash","Aquaman","Green Lantern","Catwoman","Joker","Harley Quinn","Harry Potter","Hermione Granger","Luke Skywalker","Princess Leia","Darth Vader","James Bond","Indiana Jones","Sherlock Holmes","Doctor Who","Jack Sparrow","Katniss Everdeen","Gandalf","Frodo Baggins","Neo","Ellen Ripley","Marty McFly","Dorothy Gale","Rocky Balboa","Forrest Gump","E.T.","Mary Poppins","Willy Wonka","Mickey Mouse","Bugs Bunny","Homer Simpson","Elsa","Woody","Buzz Lightyear","Shrek","Simba","Mulan","Aladdin","Moana","SpongeBob SquarePants","Scooby-Doo","Charlie Brown","Garfield","Winnie the Pooh","Pikachu","Mario","Sonic the Hedgehog","Sherlock Holmes","Elizabeth Bennet","Ebenezer Scrooge","Huckleberry Finn","Alice","Peter Pan","Captain Hook","Dracula","Frankenstein's Monster","Don Quixote","Robinson Crusoe","Oliver Twist","Hercule Poirot","Atticus Finch","Bilbo Baggins","Gollum","Aragorn","Legolas","Galadriel","Jon Snow","Daenerys Targaryen","Tyrion Lannister","Doctor Strange","Yoda","Chewbacca","Han Solo","Spock","Captain Kirk","Jean-Luc Picard","The Doctor","Buffy Summers","Xena","Conan the Barbarian"],Uv=["wood","metal","plastic","glass","ceramic","stone","paper","cardboard","fabric","leather","rubber","foam","clay","wax","concrete","brick","steel","aluminum","copper","bronze","iron","gold","silver","platinum","titanium","marble","granite","limestone","sandstone","cotton","wool","silk","nylon","polyester","denim","velvet","linen","canvas","burlap","chocolate","cheese","ice cream","candy","gingerbread","marshmallow","caramel","butter","bread","cookie dough","pasta","rice","jello","tofu","mashed potatoes","pancake","bubble gum","toothpaste","soap","sponge","feathers","sand","mud","slime","snow","ice","lava","clouds","smoke","water","fire","electricity","light","shadows","mirrors","balloons","paper clips","rubber bands","legos","crayons","glitter","confetti","leaves","flowers","grass","moss","seaweed","bamboo","cork","straw","hay","fur","hair","skin","bones","teeth","shells","coral","pearls","amber","honey","beeswax","crystal","diamond","emerald","ruby","sapphire","obsidian","jade","quartz","amethyst","opal","amber","pearl","moonstone","sunstone","stardust","rainbow","clouds","fog","mist","steam","smoke","fire","ice","water","air","earth","lightning","thunder"],Cc=e=>{if(!e||typeof e!="string")return!1;const t=e.toLowerCase().trim();for(const r of zv)if(t===r.toLowerCase()||t.includes(r.toLowerCase())||r.toLowerCase().includes(t))return!0;const n=["man","woman","boy","girl","person","child","adult","player","er ","or ","ist ","ian ","ess ","mother","father","sister","brother","aunt","uncle","cousin","grandma","grandpa","husband","wife","friend","neighbor"];for(const r of n)if(t.includes(r))return!0;return!1},Bl=(e=new Set)=>{const n=[...Bv,...jv].filter(i=>!e.has(i.toLowerCase()));if(n.length>0)return n[Math.floor(Math.random()*n.length)];const r=["Actor","Musician","Athlete","Superhero","Villain","Wizard","Detective","Explorer"];return`Famous ${r[Math.floor(Math.random()*r.length)]} ${Math.floor(Math.random()*100)+1}`},jl=(e=new Set)=>{const t=Uv.filter(s=>!e.has(s.toLowerCase()));if(t.length>0)return t[Math.floor(Math.random()*t.length)];const n=["metal","fabric","crystal","stone","wood","plastic","food"];return`${n[Math.floor(Math.random()*n.length)]} ${Math.floor(Math.random()*100)+1}`},Wv=async(e,t,n=new Set)=>{try{if(fe.initialized)try{const l=await fe.generateActivity(t);if(l&&l.components&&Array.isArray(l.components)&&l.components.length===t){const u=[];for(const h of l.components)if(!await Io(h)&&!n.has(h.toLowerCase()))u.push(h),await Vr(h);else{let d,g=0;const w=5;for(;g<w;){if(d=await fe.generateSingleComponent(e,u,n),!await Io(d)&&!n.has(d.toLowerCase())){u.push(d),await Vr(d);break}g++}if(u.length<=u.indexOf(h)){const v=`component ${Math.floor(Math.random()*1e3)+1}`;u.push(v),await Vr(v)}}if(u.length===t)return u}}catch(l){console.error("Error generating components with OpenAI:",l)}const r={cooking:["pot","pan","spatula","stove","oven","knife","cutting board","bowl","whisk","chef"],sports:["ball","bat","racket","net","goal","field","court","player","referee","coach"],driving:["car","steering wheel","pedal","road","traffic light","driver","passenger","seat belt","mirror","key"],cleaning:["vacuum","mop","broom","duster","sponge","bucket","soap","cleaner","cloth","gloves"],gardening:["shovel","rake","hoe","watering can","seeds","plants","soil","pot","gloves","gardener"],building:["hammer","nail","screwdriver","screw","saw","wood","measuring tape","level","drill","builder"],painting:["brush","canvas","easel","palette","paint","water","cloth","artist","model","studio"],writing:["pen","paper","desk","chair","computer","keyboard","notebook","writer","editor","publisher"],fishing:["rod","reel","bait","hook","line","net","boat","lake","river","fisherman"],camping:["tent","sleeping bag","fire","wood","matches","flashlight","backpack","camper","forest","mountain"],default:["tool","equipment","material","workspace","worker","helper","container","surface","instrument","accessory"]};let s="default";for(const l in r)if(e.toLowerCase().includes(l)){s=l;break}let i=[...r[s]];i.length<t&&(i=[...i,...r.default]),i.sort(()=>Math.random()-.5);const a=i.slice(0,t),o=[];for(const l of a)if(!await Io(l)&&!n.has(l.toLowerCase()))o.push(l),await Vr(l);else{const h=`${l} ${Math.floor(Math.random()*100)+1}`;o.push(h),await Vr(h)}return o}catch(r){console.error("Error generating unique components:",r);const s=[];for(let i=0;i<t;i++)s.push(`component ${i+1}`);return s}},Km=Object.freeze(Object.defineProperty({__proto__:null,generateUniqueComponents:Wv,getRandomCelebrityOrCharacter:Bl,getRandomMaterial:jl,isPersonOrRole:Cc},Symbol.toStringTag,{value:"Module"}));function Ke(e){if(!e||typeof e!="string")return!0;const t=["equipment","supplies","materials","tools","items","accessories","device","apparatus","implement","utensil","gadget","appliance","gear","kit","set","stuff","things","objects","prop","instrument","professional","worker","person","individual","specialist","expert","location","place","area","space","room","facility","venue","component","part","piece","element","unit","module","section","tool","supply","material","item","accessory","device","apparatus","implement","utensil","gadget","appliance","gear","kit","set"],n=e.toLowerCase();return t.some(r=>n===r||n.startsWith(r+" ")||n.endsWith(" "+r)||n.includes(" "+r+" "))}function Vv(e){const t={tools:["hammer","screwdriver","wrench","pliers","saw","drill","chisel","mallet","clamp"],kitchenItems:["pot","pan","spatula","whisk","bowl","spoon","knife","cutting board","plate"],furniture:["chair","table","desk","couch","sofa","bed","bookshelf","cabinet","dresser"],electronics:["computer","phone","tablet","laptop","television","camera","headphones","speaker"],clothing:["shirt","pants","jacket","hat","gloves","shoes","boots","socks","scarf"],vehicles:["car","truck","bus","train","airplane","bicycle","motorcycle","boat","ship"],instruments:["guitar","piano","drum","violin","flute","trumpet","saxophone","harp"],sports:["baseball","football","basketball","soccer","tennis","golf","hockey","volleyball"],foodItems:["apple","banana","orange","bread","cheese","meat","vegetable","fruit"],animals:["dog","cat","bird","fish","horse","cow","sheep","chicken","pig"],professions:["doctor","teacher","engineer","chef","artist","musician","writer","athlete"]},n=Object.keys(t).filter(i=>i!==e),r=n[Math.floor(Math.random()*n.length)],s=t[r];return s[Math.floor(Math.random()*s.length)]}const ga=["toaster","blender","vacuum cleaner","microwave","refrigerator","washing machine","television","couch","lamp","coffee table","bookshelf","bed","pillow","blanket","curtain","rug","mirror","clock","picture frame","vase","plant","candle","stapler","paperclip","sticky note","pen","pencil","marker","highlighter","notebook","binder","folder","paper","printer","scanner","computer","keyboard","mouse","monitor","desk","chair","filing cabinet","trash can","calendar","banana","apple","orange","grape","strawberry","blueberry","watermelon","pineapple","mango","peach","pear","plum","cherry","kiwi","lemon","lime","carrot","broccoli","cauliflower","spinach","lettuce","tomato","potato","onion","garlic","pepper","cucumber","zucchini","eggplant","mushroom","bread","bagel","muffin","croissant","donut","cake","cookie","pie","ice cream","yogurt","cheese","milk","butter","egg","bacon","sausage","chicken","beef","pork","fish","shrimp","lobster","crab","clam","oyster","shirt","t-shirt","blouse","sweater","jacket","coat","vest","pants","jeans","shorts","skirt","dress","suit","tie","bow tie","scarf","hat","cap","beanie","gloves","mittens","socks","shoes","boots","sandals","flip flops","slippers","belt","suspenders","watch","bracelet","necklace","earrings","ring","sunglasses","glasses","contact lenses","umbrella","car","truck","van","bus","train","subway","tram","bicycle","motorcycle","scooter","skateboard","roller skates","airplane","helicopter","boat","ship","yacht","jet ski","canoe","kayak","raft","hot air balloon","rocket","spaceship","smartphone","tablet","laptop","desktop","smartwatch","fitness tracker","headphones","earbuds","speaker","microphone","camera","video camera","drone","virtual reality headset","gaming console","remote control","charger","power bank","USB drive","memory card","hard drive","router","modem","hammer","screwdriver","wrench","pliers","saw","drill","level","tape measure","ruler","square","compass","chisel","mallet","clamp","vise","sandpaper","paintbrush","roller","ladder","wheelbarrow","shovel","rake","hoe","trowel","lawnmower","hedge trimmer","chainsaw","axe","crowbar","sledgehammer","baseball","baseball bat","baseball glove","football","basketball","soccer ball","volleyball","tennis ball","tennis racket","golf ball","golf club","hockey puck","hockey stick","frisbee","boomerang","bowling ball","bowling pin","pool cue","pool ball","dart","dartboard","jump rope","hula hoop","trampoline","treadmill","exercise bike","rowing machine","weight bench","dumbbell","barbell","kettlebell","guitar","bass guitar","electric guitar","acoustic guitar","piano","keyboard","synthesizer","drum","drum set","cymbal","snare drum","bass drum","bongo","conga","tambourine","triangle","xylophone","marimba","vibraphone","violin","viola","cello","double bass","harp","flute","piccolo","clarinet","oboe","bassoon","saxophone","trumpet","trombone","tuba","French horn","harmonica","accordion","bagpipe","banjo","mandolin","ukulele","sitar","theremin","doll","action figure","stuffed animal","teddy bear","building blocks","lego","puzzle","board game","card game","dice","chess","checkers","backgammon","monopoly","scrabble","jenga","yo-yo","top","kite","marble","jacks","ball","balloon","bubble wand","water gun","nerf gun","slingshot","pogo stick"],xc=["Mickey Mouse","Donald Duck","Goofy","Minnie Mouse","Pluto","Daisy Duck","Bugs Bunny","Daffy Duck","Porky Pig","Elmer Fudd","Tweety Bird","Sylvester","Road Runner","Wile E. Coyote","Marvin the Martian","Yosemite Sam","Foghorn Leghorn","Popeye","Olive Oyl","Bluto","Betty Boop","Felix the Cat","Tom","Jerry","Scooby-Doo","Shaggy","Fred","Velma","Daphne","Scrappy-Doo","Fred Flintstone","Wilma Flintstone","Barney Rubble","Betty Rubble","Pebbles","Bamm-Bamm","George Jetson","Jane Jetson","Judy Jetson","Elroy Jetson","Astro","Rosie the Robot","Yogi Bear","Boo-Boo Bear","Ranger Smith","Huckleberry Hound","Snagglepuss","Quick Draw McGraw","Top Cat","Magilla Gorilla","Peter Potamus","Squiddly Diddly","Atom Ant","Secret Squirrel","Jonny Quest","Hadji","Dr. Benton Quest","Race Bannon","Bandit","Space Ghost","Birdman","Mightor","Shazzan","Moby Dick","Jabberjaw","Hong Kong Phooey","Captain Caveman","Blue Falcon","Dynomutt","Speed Buggy","The Flintstones","The Jetsons","The Smurfs","Papa Smurf","Smurfette","Brainy Smurf","Hefty Smurf","He-Man","Skeletor","She-Ra","Catra","Man-At-Arms","Teela","Beast Man","Evil-Lyn","Lion-O","Cheetara","Panthro","Tygra","Mumm-Ra","Snarf","Optimus Prime","Megatron","Bumblebee","Starscream","Jazz","Soundwave","Grimlock","Duke","Cobra Commander","Snake Eyes","Scarlett","Destro","Baroness","Storm Shadow","Leonardo","Donatello","Raphael","Michelangelo","Splinter","Shredder","April O'Neil","Superman","Batman","Wonder Woman","Flash","Green Lantern","Aquaman","Martian Manhunter","Spider-Man","Iron Man","Captain America","Thor","Hulk","Black Widow","Hawkeye","Wolverine","Cyclops","Jean Grey","Storm","Professor X","Magneto","Mystique","Mario","Luigi","Princess Peach","Bowser","Yoshi","Toad","Wario","Waluigi","Sonic the Hedgehog","Tails","Knuckles","Amy Rose","Dr. Eggman","Shadow","Rouge"],wr=(e,t)=>{const n=e.toLowerCase(),r=t.toLowerCase(),s={tools:["hammer","screwdriver","wrench","pliers","saw","drill","chisel","mallet","clamp"],kitchenItems:["pot","pan","spatula","whisk","bowl","spoon","knife","cutting board","plate"],furniture:["chair","table","desk","couch","sofa","bed","bookshelf","cabinet","dresser"],electronics:["computer","phone","tablet","laptop","television","camera","headphones","speaker"],clothing:["shirt","pants","jacket","hat","gloves","shoes","boots","socks","scarf"],vehicles:["car","truck","bus","train","airplane","bicycle","motorcycle","boat","ship"],instruments:["guitar","piano","drum","violin","flute","trumpet","saxophone","harp"],sports:["baseball","football","basketball","soccer","tennis","golf","hockey","volleyball"],foodItems:["apple","banana","orange","bread","cheese","meat","vegetable","fruit"],animals:["dog","cat","bird","fish","horse","cow","sheep","chicken","pig"],professions:["doctor","teacher","engineer","chef","artist","musician","writer","athlete"]};for(const l in s){const u=s[l],h=u.some(d=>n.includes(d)||d.includes(n)),f=u.some(d=>r.includes(d)||d.includes(r));if(h&&f)return!0}if(n.includes(r)||r.includes(n))return!0;const i=["small","large","big","little","mini","giant","portable","electric","manual","digital"],a=i.some(l=>n.includes(l)),o=i.some(l=>r.includes(l));if(a&&o){let l=n,u=r;if(i.forEach(h=>{l=l.replace(h,"").trim(),u=u.replace(h,"").trim()}),l===u||l.includes(u)||u.includes(l))return!0}return!1},Xm=async(e,t)=>{try{if(!e||!e.selectedComponents)throw new Error("Invalid statement format");let n=[];if(fe.initialized)try{n=await fe.generateReplacements(e.selectedComponents,t);for(let s=0;s<n.length;s++){const i=n[s];if(wr(i.original,i.replacement)||Ke(i.replacement)){console.log(`Replacement "${i.replacement}" is too similar to "${i.original}" or is generic, generating a new one...`);let a,o=0;const l=5;do a=await en(i.original,e.activityVerb,t,!1,!0),o++;while((wr(i.original,a)||Ke(a))&&o<l);n[s]={original:i.original,replacement:a}}await ps(n[s].replacement)}}catch(s){console.error("Error getting replacements from OpenAI:",s),n=await wd(e,t)}else n=await wd(e,t);let r=e.activityVerb;return n.forEach(s=>{if(s.original&&typeof s.original=="string"){const i=new RegExp(`\\b${s.original}\\b`,"gi");r=r.replace(i,s.replacement)}}),{originalText:e.activityVerb,replacedText:r,replacements:n}}catch(n){throw console.error("Error replacing words:",n),n}},wd=async(e,t)=>{const n=[];for(const r of e.selectedComponents){const s=await en(r,e.activityVerb,t,!1,!0);n.push({original:r,replacement:s}),await ps(s)}return n},Hv=(e,t)=>{if(Cc(e)){const s=ga.filter(i=>!t.has(i.toLowerCase())&&!wr(e,i)&&!Ke(i));if(s.length>0)return s[Math.floor(Math.random()*s.length)]}else{const s=xc.filter(a=>!t.has(a.toLowerCase())&&!wr(e,a)&&!Ke(a));if(s.length>0)return s[Math.floor(Math.random()*s.length)];const i=ga.filter(a=>!t.has(a.toLowerCase())&&!wr(e,a)&&!Ke(a));if(i.length>0)return i[Math.floor(Math.random()*i.length)]}for(const s in vd)if(vd[s].some(o=>e.toLowerCase().includes(o)||o.includes(e.toLowerCase())))return Vv(s);const r=["banana","violin","lighthouse","cactus","snowflake","astronaut","flamingo","volcano","submarine","tornado"];return r[Math.floor(Math.random()*r.length)]},vd={tools:["hammer","screwdriver","wrench","pliers","saw","drill","chisel","mallet","clamp"],kitchenItems:["pot","pan","spatula","whisk","bowl","spoon","knife","cutting board","plate"],furniture:["chair","table","desk","couch","sofa","bed","bookshelf","cabinet","dresser"],electronics:["computer","phone","tablet","laptop","television","camera","headphones","speaker"],clothing:["shirt","pants","jacket","hat","gloves","shoes","boots","socks","scarf"],vehicles:["car","truck","bus","train","airplane","bicycle","motorcycle","boat","ship"],instruments:["guitar","piano","drum","violin","flute","trumpet","saxophone","harp"],sports:["baseball","football","basketball","soccer","tennis","golf","hockey","volleyball"],foodItems:["apple","banana","orange","bread","cheese","meat","vegetable","fruit"],animals:["dog","cat","bird","fish","horse","cow","sheep","chicken","pig"],professions:["doctor","teacher","engineer","chef","artist","musician","writer","athlete"]},en=async(e,t,n,r=!1,s=!1)=>{try{if(!e||typeof e!="string")return"watermelon";if(fe.initialized)try{if(r){const i=[],a=await fe.generateSingleComponent(t,i,n);if(Ke(a)){const o=await fe.generateSpecificComponent(t,i,n);return await ps(o),o}return await ps(a),a}else{const i=await fe.generateReplacements([e],n,s);if(i&&i.length>0&&i[0].replacement)return s&&wr(e,i[0].replacement)||Ke(i[0].replacement)?(console.log(`OpenAI replacement "${i[0].replacement}" is too similar to "${e}" or is generic, falling back to local replacement...`),await _d(e,n,s)):(await ps(i[0].replacement),i[0].replacement)}}catch(i){console.error("Error getting replacement from OpenAI:",i)}return await _d(e,n,s)}catch(i){console.error("Error replacing individual word:",i);const a=["banana","violin","lighthouse","cactus","snowflake","astronaut","flamingo","volcano","submarine","tornado"];return a[Math.floor(Math.random()*a.length)]}},_d=async(e,t,n)=>{const r=new Set(Array.from(t).map(l=>l.toLowerCase())),s=Cc(e);if(n){if(s&&Math.random()<.2){const u=Bl(r);if(!Ke(u))return u}if(!s&&Math.random()<.2){const u=jl(r);if(!Ke(u))return`made of ${u}`}return Hv(e,r)}if(s){if(Math.random()<.5){const f=Bl(r);if(!Ke(f))return f}const l=xc.filter(f=>!r.has(f.toLowerCase())&&!Ke(f)),u=[];for(const f of l)await gd(f)||u.push(f);if(u.length>0){const f=Math.floor(Math.random()*u.length);return u[f]}const h=["Batman","Wonder Woman","Spider-Man","Captain America","Iron Man","Harry Potter","Sherlock Holmes","Darth Vader","Luke Skywalker","James Bond"];return h[Math.floor(Math.random()*h.length)]}if(Math.random()<.3){const l=jl(r);if(!Ke(l))return`made of ${l}`}const i=ga.filter(l=>!r.has(l.toLowerCase())&&!Ke(l)),a=[];for(const l of i)await gd(l)||a.push(l);if(a.length>0){const l=Math.floor(Math.random()*a.length);return a[l]}const o=["banana","violin","lighthouse","cactus","snowflake","astronaut","flamingo","volcano","submarine","tornado"];return o[Math.floor(Math.random()*o.length)]},Jv=Object.freeze(Object.defineProperty({__proto__:null,replaceIndividualWord:en,replaceWords:Xm,unrelatedCharacters:xc,unrelatedObjects:ga},Symbol.toStringTag,{value:"Module"})),Gv=()=>{try{const e=localStorage.getItem("usedWords");return e?new Set(JSON.parse(e)):new Set}catch(e){return console.error("Error initializing used words storage:",e),new Set}},Hr=e=>{try{const t=localStorage.getItem("usedWords");let n=new Set;return t&&(n=new Set(JSON.parse(t))),Array.isArray(e)?e.forEach(r=>{typeof r=="string"&&r.includes(" ")?r.split(/\s+/).forEach(s=>{s.trim()&&n.add(s.trim().toLowerCase())}):r&&typeof r=="string"&&n.add(r.toLowerCase())}):e&&typeof e=="string"&&(e.includes(" ")?e.split(/\s+/).forEach(r=>{r.trim()&&n.add(r.trim().toLowerCase())}):n.add(e.toLowerCase())),localStorage.setItem("usedWords",JSON.stringify([...n])),n}catch(t){return console.error("Error adding used words:",t),new Set}},Qv=({onConnectionChange:e})=>{const[t,n]=B.useState(""),[r,s]=B.useState(!1),[i,a]=B.useState(!1),[o,l]=B.useState(""),[u,h]=B.useState("");B.useEffect(()=>{const g=localStorage.getItem("openai_api_key");if(g){const w=fe.initialize(g);s(w),n(g),e&&e(w)}},[e]);const f=g=>{if(g.preventDefault(),l(""),h(""),!t.trim()){l("API key is required");return}if(!t.startsWith("sk-")||t.length<20){l('Invalid API key format. OpenAI API keys start with "sk-" and are longer than 20 characters.');return}fe.initialize(t)?(localStorage.setItem("openai_api_key",t),s(!0),h("OpenAI API key set successfully!"),a(!1),e&&e(!0)):l("Failed to initialize OpenAI service. Please check your API key and ensure it has proper permissions.")},d=()=>{localStorage.removeItem("openai_api_key"),n(""),s(!1),a(!0),h(""),l(""),e&&e(!1)};return _.createElement("div",{className:"api-key-container"},r?_.createElement("div",{className:"api-status"},_.createElement("span",{className:"api-status-text"},"API: ",_.createElement("span",{className:"api-connected"},"Connected")),_.createElement("button",{className:"api-reset-button",onClick:d},"Reset")):_.createElement("div",{className:"api-status"},_.createElement("span",{className:"api-status-text"},"API: ",_.createElement("span",{className:"api-disconnected"},"Disconnected")),_.createElement("button",{className:"api-connect-button",onClick:()=>a(!0)},"Connect")),i&&_.createElement("div",{className:"api-key-form-container"},_.createElement("form",{onSubmit:f,className:"api-key-form"},_.createElement("div",{className:"form-group"},_.createElement("label",{htmlFor:"apiKey"},"OpenAI API Key:"),_.createElement("input",{type:"password",id:"apiKey",value:t,onChange:g=>n(g.target.value),placeholder:"Enter your OpenAI API key",className:"api-key-input"})),_.createElement("div",{className:"form-actions"},_.createElement("button",{type:"submit",className:"api-key-submit"},"Connect"),_.createElement("button",{type:"button",className:"api-key-cancel",onClick:()=>a(!1)},"Cancel")),o&&_.createElement("div",{className:"api-key-error"},o))),u&&_.createElement("div",{className:"api-key-success"},u))},Kv=({onComplete:e,darkMode:t})=>{const[n,r]=B.useState(10);return B.useEffect(()=>{if(n<=0){e&&e();return}const s=setTimeout(()=>{r(n-1)},1e3);return()=>clearTimeout(s)},[n,e]),_.createElement("div",{className:`countdown-overlay ${t?"dark-mode":""}`},_.createElement("div",{className:"countdown-number"},n))};function Xv({darkMode:e}){const[t,n]=B.useState(0),[r,s]=B.useState(!1),[i,a]=B.useState(60),[o,l]=B.useState(!1),[u,h]=B.useState(!1),f=B.useRef(null),d=B.useRef(null),g=B.useRef(null),w=S=>{const b=Math.floor(S/60),M=S%60;return`${b.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`},v=()=>{if(!r){s(!0),l(!1),g.current&&(clearTimeout(g.current),g.current=null);const S=(i-10-t)*1e3;S>0&&(g.current=setTimeout(()=>{l(!0)},S)),f.current=setInterval(()=>{n(b=>{const M=b+1;return i-M<=10?(clearInterval(f.current),s(!1),d.current&&d.current.play().catch(L=>console.error("Error playing sound:",L)),i-10):M})},1e3)}},x=()=>{r&&(clearInterval(f.current),s(!1),g.current&&(clearTimeout(g.current),g.current=null))},m=()=>{clearInterval(f.current),s(!1),n(0),l(!1),g.current&&(clearTimeout(g.current),g.current=null)},c=S=>{const b=parseInt(S.target.value,10);!isNaN(b)&&b>0&&(a(b),t>b&&n(b))},p=()=>{l(!1),m()};B.useEffect(()=>()=>{f.current&&clearInterval(f.current),g.current&&clearTimeout(g.current)},[]);const y=i-t,k=t/i*100,E=y<=10;return _.createElement("div",{className:`timer-container ${e?"dark-mode":""}`},_.createElement("div",{className:`timer-display ${E?"timer-warning":""}`},w(y)),_.createElement("div",{className:"timer-progress"},_.createElement("div",{className:"timer-progress-bar",style:{width:`${k}%`}})),_.createElement("div",{className:"timer-controls"},_.createElement("button",{onClick:v,disabled:r||y<=10},"Start"),_.createElement("button",{onClick:x,disabled:!r,className:"secondary"},"Stop"),_.createElement("button",{onClick:m,disabled:t===0,className:"secondary"},"Reset")),_.createElement("button",{className:"timer-settings-toggle",onClick:()=>h(!u)},u?"Hide Settings":"Settings"),u&&_.createElement("div",{className:"timer-input"},_.createElement("label",{htmlFor:"duration"},"Duration (seconds):"),_.createElement("input",{id:"duration",type:"number",min:"1",value:i,onChange:c,disabled:r})),_.createElement("audio",{ref:d,preload:"auto"},_.createElement("source",{src:"/nba-horn-sfx.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."),o&&_.createElement(Kv,{onComplete:p,darkMode:e}))}function qv(){const[e,t]=B.useState(null),[n,r]=B.useState(""),[s,i]=B.useState(new Set),[a,o]=B.useState(!1),[l,u]=B.useState(3),[h,f]=B.useState([]),[d,g]=B.useState(!1),[w,v]=B.useState(!1),[x,m]=B.useState(!1),[c,p]=B.useState(!1),[y,k]=B.useState(!1),[E,S]=B.useState(null),[b,M]=B.useState(!1),[A,L]=B.useState(!1),[ye,tt]=B.useState(!1),[Ht,nt]=B.useState({activities:0,components:0,replacements:0});B.useEffect(()=>{(async()=>{const z=Gv();i(z),await $v();const q=await kn();nt(q);const J=localStorage.getItem("darkMode");J&&m(J==="true");const j=fe.initialized;p(!j)})()},[]),B.useEffect(()=>{x?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("darkMode",x)},[x]),B.useEffect(()=>{e&&s.size>0&&Nt()},[e,s]),B.useEffect(()=>{const P=async()=>{const q=await kn();nt(q)};P();const z=setInterval(P,3e4);return()=>clearInterval(z)},[]);const jn=(P,z,q=-1)=>{if(!P)return!1;const J=P.toLowerCase();return z.some((j,te)=>te!==q&&j&&j.toLowerCase()===J)},Nt=async()=>{if(e)try{const{determineActivityType:P,activityComponentMap:z}=await Cl(async()=>{const{determineActivityType:Q,activityComponentMap:St}=await Promise.resolve().then(()=>Km);return{determineActivityType:Q,activityComponentMap:St}},void 0),q=P(e.activityVerb),J=z[q]||z.default,j=Array.from(s).map(Q=>Q.toLowerCase()),te=J.filter(Q=>!j.includes(Q.toLowerCase()));L(te.length===0);const{unrelatedObjects:we,unrelatedCharacters:ke}=await Cl(async()=>{const{unrelatedObjects:Q,unrelatedCharacters:St}=await Promise.resolve().then(()=>Jv);return{unrelatedObjects:Q,unrelatedCharacters:St}},void 0),oe=[...we,...ke].filter(Q=>!j.includes(Q.toLowerCase()));tt(oe.length===0)}catch(P){console.error("Error checking available words:",P)}},R=async()=>{o(!0),r(""),f([]);try{const P=await Dv(l,s);if([...new Set(P.selectedComponents)].length<P.selectedComponents.length){console.log("Detected duplicate components in generation, fixing...");const te=new Set,we=[];for(const ke of P.selectedComponents)if(!te.has(ke.toLowerCase()))te.add(ke.toLowerCase()),we.push(ke);else{let Ve,oe=0;const Q=5;do Ve=await en(ke,P.activityVerb,s,!0),oe++;while(te.has(Ve.toLowerCase())&&oe<Q);te.add(Ve.toLowerCase()),we.push(Ve)}P.selectedComponents=we}t(P);const q=P.activityVerb.split(/\s+/),J=Hr(q);i(J),g(P.selectedComponents.length>2),L(!1),tt(!1),await F(P),Nt();const j=await kn();nt(j)}catch(P){console.error("Error generating statement:",P)}finally{o(!1)}},F=async P=>{if(P)try{const z=await Xm(P,s),q=new Set,J=[];for(const oe of z.replacements)if(!q.has(oe.replacement.toLowerCase()))q.add(oe.replacement.toLowerCase()),J.push(oe);else{let Q,St=0;const Qs=5;do Q=await en(oe.original,P.activityVerb,s,!1),St++;while(q.has(Q.toLowerCase())&&St<Qs);q.add(Q.toLowerCase()),J.push({original:oe.original,replacement:Q})}let j=P.activityVerb;J.forEach(oe=>{if(oe.original&&typeof oe.original=="string"){const Q=new RegExp(`\\b${oe.original}\\b`,"gi");j=j.replace(Q,oe.replacement)}}),r(j),f(J);const te=J.map(oe=>oe.replacement),we=Hr(te);i(we);const ke=P.selectedComponents;Hr(ke);const Ve=await kn();nt(Ve)}catch(z){console.error("Error generating replacements:",z)}},D=P=>{const z=parseInt(P.target.value,10);u(z)},ee=async()=>{if(e){v(!0);try{if(!fe.initialized){alert("OpenAI API is not connected. Please connect your API key first."),v(!1);return}const P=await fe.simplifyActivity(e);if([...new Set(P.selectedComponents)].length<P.selectedComponents.length){console.log("Detected duplicate components in simplification, fixing...");const J=new Set,j=[];for(const te of P.selectedComponents)if(!J.has(te.toLowerCase()))J.add(te.toLowerCase()),j.push(te);else{let we,ke=0;const Ve=5;do we=await en(te,P.activityVerb,s,!0),ke++;while(J.has(we.toLowerCase())&&ke<Ve);J.add(we.toLowerCase()),j.push(we)}P.selectedComponents=j}t(P),r(""),f([]),g(!1),await F(P),Nt();const q=await kn();nt(q)}catch(P){console.error("Error simplifying activity:",P)}finally{v(!1)}}},ue=()=>{m(!x)},Un=P=>{p(!P)},ct=(P,z,q)=>{if(!P||!z||!q)return P;const J=new RegExp(`\\b${z}\\b`,"gi");return P.replace(J,q)},Lr=async P=>{if(!(!e||y||A)){k(!0),S(P),M(!0);try{const z=e.selectedComponents[P],q=e.activityVerb,J=e.selectedComponents.filter((Qs,_n)=>_n!==P);let j,te=0;const we=5;do j=await en(z,q,s,!0),te++,te>=we&&jn(j,J)&&(j=`${j} ${Math.floor(Math.random()*100)+1}`);while(jn(j,J)&&te<we);const ke=[...e.selectedComponents];ke[P]=j;let Ve=ct(q,z,j);const oe={...e,selectedComponents:ke,activityVerb:Ve};t(oe);const Q=Hr([j]);if(i(Q),h.length>0){const Qs=h.map(_n=>_n.original===z?{..._n,original:j}:_n);if(n){let _n=ct(n,z,j);r(_n)}f(Qs)}Nt();const St=await kn();nt(St)}catch(z){console.error("Error replacing original word:",z)}finally{k(!1),S(null),M(!1)}}},Mt=async P=>{if(!(!e||!h.length||y||ye)){k(!0),S(P),M(!1);try{const z=h[P].original,q=h[P].replacement,J=h.filter((Q,St)=>St!==P).map(Q=>Q.replacement);let j,te=0;const we=5;do j=await en(z,e.activityVerb,s,!1),te++,te>=we&&J.includes(j)&&(j=`${j} ${Math.floor(Math.random()*100)+1}`);while(J.includes(j)&&te<we);const ke=[...h];if(ke[P]={original:z,replacement:j},f(ke),n){let Q=ct(n,q,j);r(Q)}const Ve=Hr([j]);i(Ve),Nt();const oe=await kn();nt(oe)}catch(z){console.error("Error replacing replacement word:",z)}finally{k(!1),S(null),M(!1)}}};return _.createElement("div",{className:`app-container ${x?"dark-mode":""}`},_.createElement("header",{className:"app-header"},_.createElement("div",{className:"header-content"},_.createElement("h1",{className:"app-title"},"The Things Generator"),_.createElement("div",{className:"header-controls"},_.createElement("button",{className:"theme-toggle",onClick:ue,"aria-label":x?"Switch to light mode":"Switch to dark mode"},x?"":""),c&&_.createElement("div",{className:"api-key-section"},_.createElement(Qv,{onConnectionChange:Un}))))),_.createElement("main",{className:"app-main"},_.createElement("div",{className:"controls-section"},_.createElement("div",{className:"component-count"},_.createElement("label",{htmlFor:"componentCount"},"Components:"),_.createElement("select",{id:"componentCount",value:l,onChange:D,disabled:a},_.createElement("option",{value:"2"},"2"),_.createElement("option",{value:"3"},"3"),_.createElement("option",{value:"4"},"4"),_.createElement("option",{value:"5"},"5"))),_.createElement("div",{className:"main-buttons"},_.createElement("button",{className:"generate-button",onClick:R,disabled:a},a?"Generating...":"New Thing"),e&&d&&_.createElement("button",{className:"simplify-button",onClick:ee,disabled:w||a},w?"Simplifying...":"Simplify"))),_.createElement("div",{className:"content-container"},_.createElement("div",{className:"unified-panel"},e&&_.createElement("div",{className:"content-panel"},_.createElement("div",{className:"activity-section"},_.createElement("h2",null,"Activity:"),_.createElement("p",{className:"activity-text"},e.activityVerb)),_.createElement("div",{className:"components-section"},_.createElement("h3",null,"Components:"),_.createElement("div",{className:"components-container"},e.selectedComponents.map((P,z)=>_.createElement("div",{key:`component-${z}-${P}`,className:"component-item"},_.createElement("div",{className:"component-button"},P),_.createElement("button",{className:`replace-word-button ${A?"disabled":""}`,onClick:()=>Lr(z),disabled:y||A,title:A?"No more words available":"Replace this component"},y&&b&&E===z?_.createElement("span",{className:"loading-spinner"},""):_.createElement("span",null,""))))),A&&_.createElement("p",{className:"no-more-words-message"},"No more component words available.")),n&&_.createElement("div",{className:"replacement-section"},_.createElement("p",null,n),h.length>0&&_.createElement("div",{className:"replacements-list"},_.createElement("h4",null,"Replacements:"),_.createElement("ul",null,h.map((P,z)=>_.createElement("li",{key:`replacement-${z}-${P.replacement}`,className:"replacement-item"},_.createElement("div",{className:"replacement-text-container"},_.createElement("span",{className:"original"},P.original)," ",_.createElement("span",{className:"replacement"},P.replacement)),_.createElement("button",{className:`replace-word-button ${ye?"disabled":""}`,onClick:()=>Mt(z),disabled:y||ye,title:ye?"No more replacement words available":"Replace this word"},y&&!b&&E===z?_.createElement("span",{className:"loading-spinner"},""):_.createElement("span",null,""))))),ye&&_.createElement("p",{className:"no-more-words-message"},"No more replacement words available.")))),!e&&_.createElement("div",{className:"empty-state"},_.createElement("p",null,'Click "New Thing" to generate an activity.'))),_.createElement("div",{className:"timer-container"},_.createElement(Xv,{darkMode:x}),_.createElement("div",{className:"repetition-stats"},_.createElement("h4",null,"Repetition Prevention"),_.createElement("div",{className:"stats-grid"},_.createElement("div",{className:"stat-item"},_.createElement("span",{className:"stat-label"},"Activities:"),_.createElement("span",{className:"stat-value"},Ht.activities)),_.createElement("div",{className:"stat-item"},_.createElement("span",{className:"stat-label"},"Components:"),_.createElement("span",{className:"stat-value"},Ht.components)),_.createElement("div",{className:"stat-item"},_.createElement("span",{className:"stat-label"},"Replacements:"),_.createElement("span",{className:"stat-value"},Ht.replacements))))))),_.createElement("footer",{className:"app-footer"},_.createElement("p",null,"Used words: ",s.size),!c&&_.createElement("button",{className:"api-settings-button",onClick:()=>p(!0)},"API Settings")))}No.createRoot(document.getElementById("root")).render(_.createElement(_.StrictMode,null,_.createElement(qv,null)));
